# ADR: Chat

- **Status:** Accepted <!-- REQUIRED -->
- **Last Modified:** 2023-07-05 <!-- REQUIRED -->
- **Related Issue:** #105 (https://github.com/HHS/grants-equity/issues/105) <!-- RECOMMENDED -->
- **Deciders:** Lucas Brown and Billy Daly <!-- REQUIRED -->
- **Tags:** docs:adr topic:comms <!-- OPTIONAL -->

## Context and Problem Statement

We want to explore and evaluate options for group chat in order to facilitate effective cross-team and communication. This chat tool will be utilized by both internal individuals at HHS and the general public, requiring usability and effectiveness across diverse user needs. Additionally, the selected tool should have the capacity to scale and adapt as the project expands. There is currently a lack of a transparent chat tool that meets our requirements. 

**Assumptions** 
We believe that a chat tool can enhance communication and collaboration in real-time for our open-source community. A chat tool can provide a more immediate and interactive means of communication, allowing community members to discuss ideas, ask questions, and provide feedback in a more dynamic manner. They can facilitate quicker decision-making, foster a sense of community, and enable easier coordination among contributors.

## Decision Drivers <!-- RECOMMENDED -->

- **Functionality:** consider the features and functionalities offered with each chat tool. Consider whether the chat solution provides essential capabilities like direct messaging, public channels for messaging, public and private channels, replying to messages in threads that other users can see, emojis to react to message, file sharing, search functionality, integrations.  
- **Usability:** chat solution should be user-friendly and intuitive. IT should be easy for team members, including both technical and non-technical individuals, to navigate and utilize effectively.  
- **Scalability:** solution should be able to accommodate the projected growth in the number of users, conversations, and data as the project expands. Ensure that the tool can handle demand without compromising performance  
- **Integration capabilities:** solution is able to integrate with other tools and platforms that the project relies on. Integration with project management tools, issue trackers, wiki, document sharing, sprint retro.  
- **Accessibility:** solution should be accessible for all individuals, including but not limited to individuals with visual, hearing or motor impairments. A chat solution should support keyboard navigation, screen reader compatibility, color contrast options, and support assistive technologies.  
- **Community and support:** consider the size and activity of the user community. An active community, similarly to an FOSS community, can provide valuable support, resources, and community-developed plugins or integrations.  
- **Cost:** evaluate the pricing structure, considering growth of users and additional features in the future.  
- **Self-hosting vs. cloud-based:** evaluate whether the solutions are self-hosted where we have complete control over data and infrastructure or cloud-based that handles hosting and maintenance.  
- **Open-source:** a solution that offers open-source is more likely to align with HHS values and provide transparency, customizability, community collaboration, longevity and continuity, cost effectiveness, and overall autonomy for our project.  



## Options Considered

- [Slack](https://slack.com/features)
- [Discord](https://discord.com/)
- [Microsoft Teams](https://www.microsoft.com/en-us/microsoft-teams/group-chat-software)
- [GitHub Discussions](https://docs.github.com/en/discussions/collaborating-with-your-community-using-discussions/about-discussions)
- [Rocket.chat](https://www.rocket.chat/)
- [Mattermost](https://mattermost.com/)
- [Zulip](https://zulip.com/)


## Decision Outcome <!-- REQUIRED -->

At this time, it is recommended to use a basic paid version of Slack for internal and public users. Slack offers a wide range of functionality and features, making it a popular and widely adopted chat tool. It has robust integration capabilities and a user-friendly experience. The team's familiarity with Slack reduces the learning curve. Inviting the public to our paid version of Grants.gov Slack instance will allow us to get an understanding of number of users joining and usage patterns for chat. However, it's important to be mindful of pricing implications as the project grows. We should reassess if there is growth beyond 400 users. Moving to Slack‚Äôs free version is an option for the public, open-source community. Slack's free version has limitations like data retention but would be more cost-efficient.  
 

### Positive Consequences <!-- OPTIONAL -->

- Enhanced collaboration
- Increased engagement 
- Faster onboarding
- Improved accessibility 
- Smoother integration 
- Positive user experience

### Negative Consequences <!-- OPTIONAL -->

- Limited functionality 
- Vendor lock-in
- Security concerns
- Learning curve
- Communication fragmentation
- Incompatible with existing workflows


## Pros and Cons of the Options <!-- OPTIONAL -->

‚úÖ Feature available, meets requirement  
‚ùå Feature not available, does not meet requirement  
üîÑ Partial feature, limited feature availability, feature in progress or undergoing improvements  
‚ûï Strength level  
‚ùìUnknown  

| Evaluation criteria | [Slack](https://slack.com/features) | [Discord](https://discord.com/) | [Microsoft Teams](https://www.microsoft.com/en-us/microsoft-teams/group-chat-software) | [GitHub Discussions](https://docs.github.com/en/discussions/collaborating-with-your-community-using-discussions/about-discussions) | [Rocket.chat](https://www.rocket.chat/) | [Mattermost](https://mattermost.com/) | [Zulip](https://zulip.com/) |
| ------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| Experience with current team                | ‚úÖ                                                                                                                                                                                        | ‚ùå                                                                                  | ‚úÖ                                                                                                                                                                                                                                  | ‚ùå                                                                                                                                  | ‚ùå                                                                                                                                             | ‚ùå                                                                                                                             | ‚ùå                                                                                         |
| Self-hosting                                | ‚ùå                                                                                                                                                                                        | ‚ùå                                                                                  | ‚ùå                                                                                                                                                                                                                                  | ‚ùå                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | ‚úÖ                                                                                         |
| Open-source                                 | ‚ùå                                                                                                                                                                                        | ‚ùå                                                                                  | ‚ùå                                                                                                                                                                                                                                  | ‚ùå                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | ‚úÖ                                                                                         |
| Voice                                       | ‚úÖ                                                                                                                                                                                        | ‚úÖ                                                                                  | ‚úÖ                                                                                                                                                                                                                                  | ‚ùå                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | ‚ùå                                                                                         |
| Video                                       | ‚úÖ                                                                                                                                                                                        | ‚úÖ                                                                                  | ‚úÖ                                                                                                                                                                                                                                  | ‚ùå                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | ‚ùå                                                                                         |
| Text                                        | ‚úÖ                                                                                                                                                                                        | ‚úÖ                                                                                  | ‚úÖ                                                                                                                                                                                                                                  | ‚úÖ                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | ‚ùå                                                                                         |
| Accessibility options                       | ‚úÖ                                                                                                                                                                                        | üîÑ                                                                                 | ‚úÖ                                                                                                                                                                                                                                  | ‚úÖ                                                                                                                                  | üîÑ                                                                                                                                            | ‚úÖ                                                                                                                             | üîÑ                                                                                        |
| Accessibility: keyboard navigation          | ‚úÖ                                                                                                                                                                                        | ‚úÖ                                                                                  | ‚úÖ                                                                                                                                                                                                                                  | ‚úÖ                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | ‚úÖ                                                                                         |
| Accessibility: Screen reader compatibility  | ‚úÖ                                                                                                                                                                                        | üîÑ                                                                                 | ‚úÖ                                                                                                                                                                                                                                  | ‚úÖ                                                                                                                                  | üîÑ                                                                                                                                            | ‚úÖ                                                                                                                             | ‚úÖ                                                                                         |
| Accessibility: Color contrast options       | ‚úÖ                                                                                                                                                                                        | ‚úÖ                                                                                  | ‚úÖ                                                                                                                                                                                                                                  | ‚úÖ                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | ‚úÖ                                                                                         |
| Accessibility: Assistive technologies       | ‚úÖ                                                                                                                                                                                        | üîÑ                                                                                 | ‚úÖ                                                                                                                                                                                                                                  | ‚úÖ                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | üîÑ                                                                                        |
| Public users                                | ‚úÖ                                                                                                                                                                                        | ‚úÖ                                                                                  | ‚ùå                                                                                                                                                                                                                                  | ‚úÖ                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | ‚úÖ                                                                                         |
| Metrics available                           | 2                                                                                                                                                                                        | 1                                                                                  | 2                                                                                                                                                                                                                                  | 2                                                                                                                                  | 2                                                                                                                                             | 2                                                                                                                             | 2                                                                                         |
| Community and support                       | 3                                                                                                                                                                                        | 2                                                                                  | 3                                                                                                                                                                                                                                  | 3                                                                                                                                  | 2                                                                                                                                             | 2                                                                                                                             | 2                                                                                         |
| Usability                                   | 3                                                                                                                                                                                        | 3                                                                                  | 2                                                                                                                                          | 2                                                       | 3                                                                        | 3                                                         | 2                |
| Integration                                 | 3                                                                                                                                            | 2             | 2                                                                                                                                                                           | 2                                                                          | 3                                                                                              | 3                                                                               | 2                                       |
| Security                                    | 3                                                                                                                                                               | 2 | 3                                                                                                                                                                                  | 2                                                                            | 2                                                                      | 3                                         | 3                  |
| Public channels                             | ‚úÖ                                                                                                                                                                                        | ‚úÖ                                                                                  | ‚úÖ                                                                                                                                                                                                                                  | ‚úÖ                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | ‚úÖ                                                                                         |
| Private channels                            | ‚úÖ                                                                                                                                                                                        | ‚úÖ                                                                                  | ‚úÖ                                                                                                                                                                                                                                  | ‚ùå                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | ‚úÖ                                                                                         |
| Threaded replies                            | ‚úÖ                                                                                                                                                                                        | ‚ùå                                                                                  | ‚úÖ                                                                                                                                                                                                                                  | ‚úÖ                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | ‚úÖ                                                                                         |
| Emoji reactions                             | ‚úÖ                                                                                                                                                                                        | ‚úÖ                                                                                  | ‚úÖ                                                                                                                                                                                                                                  | ‚ùå                                                                                                                                  | ‚úÖ                                                                                                                                             | ‚úÖ                                                                                                                             | ‚úÖ                                                                                         |
| Cost                                        | Free,<br>Pro $7.25, Business $12.50 USD per active user per month billed annually.<br>Or, $15 USD per active user per month, billed monthly.<br>FOSS community users must request access | Free to run, free to use                      | Part of MS365 subscription plans<br>$12.50/user/month                                                                                                                                                                              | $3.67 per user/month, billed annually;                                                                                             | Free + own hosting costs; paid version available $7<br>/user/month<br>Minimum of 25 users<br>or<br>$35<br>/agent/month<br>Minimum of 5 agents | free + own hosting costs; paid version available $10 per user/month, billed annually; enterprise pricing with requested quote | Free + own hosting costs; paid version available$6.67 per user per month, billed annually |


## Pricing breakdown for top choices

To understand the cost as we grow and expand chat to become accessible to public users, we want to evaluate costs for our top chat options: Slack and Rocket.chat

**Slack:**¬†

For free version of Slack:  
- No limit to channels or users
- Data retention for 90 days
- Limitations to message and file visibility limit at 90 days
- You can add up to 10 third-party or custom apps. 
  
For paid versions of Slack:
- Guest Roles (External users that are not part of a paid workspace). Host pays for the guest roles for mult-channel use. Single channel based off number of members on host workspace.¬†

- Slack Connect (requires both your workspace and their workspace be on a paid plan or start a trial). There is no additional charge on either workspace. Slack Connect (More for users that already have their own paid workspace). These users can have multi-channel access at no additional charge.¬†

- Guest users (Allows for the host workspace to invite users under the host plan)

  - Single Channel guests would be no charge and multi-channel guests would be billed like regular members of your workspace.
  - Single-Channel Guests are free and can only access one channel. For every paid active member in your workspace, you can add up to 5 guests. For example, if you have 10 members, you can invite up to 50 Single-Channel Guests.
  - Multi Channel guests would be billed like a regular member of your workspace.




**Rocket.chat**  

- Rocket.chat has a couple different pricing models:
  - Registered users (appropriate for a small number of users)
  - Omni-channel model: that charges by unique monthly active users  
  - Model to charge for monthly active users (not unique)  
- Rocket.chat does not currently have a use case where public users need to access or view channels and interact with channels, but could be willing to work out a solution.
- Rocket.Chat's self-hosted community edition is free forever.  There are limitations to the free version including high availability and scalability.  - Rocket.chat‚Äôs free community edition is limited to a single instance and designed to support 150-200 users.  We have the ability to build the screen reader functionality on our own instance.

 

## Links 

Government offerings
- [Slack for Government](https://slack.com/resources/why-use-slack/a-closer-look-at-govslack)  
- [Microsoft](https://learn.microsoft.com/en-us/microsoftteams/expand-teams-across-your-org/teams-for-government-landing-page)  
- [Github](https://government.github.com/)
- [Rocket.chat](https://www.rocket.chat/government)
- [Mattermost](https://mattermost.com/solutions/industries/government/)

 Offerings
 - [Enterprise](https://www.rocket.chat/enterprise)
 - [Community](https://www.rocket.chat/community)
 - [Slack Admins: guests vs channels in Slack Connect](https://slack.com/resources/slack-for-admins/guests-vs-channels-in-slack-connect)
 - [Guest roles for paid version](https://slack.com/help/articles/202518103-Understand-guest-roles-in-Slack)
 - [Slack Connect Guide for external organizations](<https://slack.com/help/articles/115004151203-Slack-Connect-guide--work-with-external-organizations>)
 - [Slack Free workspace usage limits](https://slack.com/help/articles/115002422943-Usage-limits-for-free-workspaces)
 - [Discord](https://discord.com/open-source)

