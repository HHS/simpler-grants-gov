data.terraform_remote_state.current_image_tag[0]: Reading...
module.app_config.data.external.account_ids_by_name: Reading...
module.service.data.external.whoami: Reading...
module.service.data.external.deploy_github_sha: Reading...
module.app_config.data.external.account_ids_by_name: Read complete after 0s [id=-]
module.service.data.external.deploy_github_sha: Read complete after 0s [id=-]
module.service.data.external.whoami: Read complete after 1s [id=-]
data.aws_vpc.network: Reading...
module.service.module.network.data.aws_subnets.database: Reading...
module.service.aws_cloudwatch_log_group.service_logs: Refreshing state... [id=service/api-dev]
module.service.data.aws_ssm_parameter.fluent_bit_commit: Reading...
module.database[0].data.aws_rds_cluster.db_cluster: Reading...
module.service.data.aws_iam_policy_document.scheduler_assume_role: Reading...
data.aws_iam_policy.migrator_db_access_policy[0]: Reading...
module.service.data.aws_iam_policy_document.scheduler_assume_role: Read complete after 0s [id=52247394]
module.service.aws_s3_bucket.cdn[0]: Refreshing state... [id=api-dev-cdn-access-logs20250116191905055600000002]
module.service.aws_cloudfront_cache_policy.default[0]: Refreshing state... [id=7429d37c-43fe-4ef3-8777-ad2025195294]
module.service.data.aws_ssm_parameter.fluent_bit_commit: Read complete after 0s [id=/fluent-bit-commit]
module.service.aws_api_gateway_rest_api.api[0]: Refreshing state... [id=wxuxv45ooj]
module.database[0].data.aws_iam_policy.app_db_access_policy: Reading...
module.service.module.network.data.aws_subnets.database: Read complete after 0s [id=us-east-1]
module.service.data.aws_iam_policy_document.ecs_tasks_assume_role_policy: Reading...
module.service.data.aws_iam_policy_document.ecs_tasks_assume_role_policy: Read complete after 0s [id=4229150499]
data.aws_acm_certificate.secondary_certs["alb.dev.simpler.grants.gov"]: Reading...
data.aws_acm_certificate.cert[0]: Reading...
module.database[0].data.aws_rds_cluster.db_cluster: Read complete after 0s [id=api-dev]
module.service.aws_cloudwatch_log_group.scheduled_jobs["load-search-agency-data"]: Refreshing state... [id=/aws/vendedlogs/states/api-dev-load-search-agency-data/scheduled-jobs/20250416170337385100000002]
module.service.aws_cloudfront_origin_access_control.cdn[0]: Refreshing state... [id=E2EJR515GGOGNA]
module.service.aws_wafv2_web_acl.waf[0]: Refreshing state... [id=a13139a8-fb10-4545-89fb-924417495223]
module.notifications_email_domain[0].data.aws_region.current: Reading...
module.notifications_email_domain[0].data.aws_region.current: Read complete after 0s [id=us-east-1]
module.service.aws_ecs_cluster.cluster: Refreshing state... [id=arn:aws:ecs:us-east-1:315341936575:cluster/api-dev]
data.terraform_remote_state.current_image_tag[0]: Read complete after 1s
data.aws_ssm_parameter.search_endpoint_arn[0]: Reading...
module.service.aws_cloudwatch_log_group.scheduled_jobs["load-search-opportunity-data"]: Refreshing state... [id=/aws/vendedlogs/states/api-dev-load-search-opportunity-data/scheduled-jobs/20250416170337384400000001]
data.aws_acm_certificate.secondary_certs["alb.dev.simpler.grants.gov"]: Read complete after 0s [id=arn:aws:acm:us-east-1:315341936575:certificate/87f1b277-3118-414a-8971-388a44e07393]
module.service.aws_cloudwatch_log_group.scheduled_jobs["load-transform"]: Refreshing state... [id=/aws/vendedlogs/states/api-dev-load-transform/scheduled-jobs/20250314180555008500000001]
data.aws_ssm_parameter.search_endpoint_arn[0]: Read complete after 0s [id=/search/api-dev/endpoint]
module.service.aws_cloudwatch_log_group.scheduled_jobs["create-analytics-db-csvs"]: Refreshing state... [id=/aws/vendedlogs/states/api-dev-create-analytics-db-csvs/scheduled-jobs/20250314180555013500000002]
module.service.aws_cloudwatch_log_group.scheduled_jobs["sam-extracts"]: Refreshing state... [id=/aws/vendedlogs/states/api-dev-sam-extracts/scheduled-jobs/20250812181143713400000001]
data.aws_acm_certificate.cert[0]: Read complete after 0s [id=arn:aws:acm:us-east-1:315341936575:certificate/401850f9-6515-4c19-ae89-1aeaab66edb2]
module.service.aws_cloudwatch_log_group.scheduled_jobs["email_notification_opportunity"]: Refreshing state... [id=/aws/vendedlogs/states/api-dev-email_notification_opportunity/scheduled-jobs/20250722211557316900000001]
data.aws_vpc.network: Read complete after 0s [id=vpc-08f522c5cc442d126]
module.service.aws_cloudwatch_log_group.scheduled_jobs["export-opportunity-data"]: Refreshing state... [id=/aws/vendedlogs/states/api-dev-export-opportunity-data/scheduled-jobs/20250314180555023800000003]
module.service.aws_cloudwatch_log_group.scheduled_jobs["build-automatic-opportunities"]: Refreshing state... [id=/aws/vendedlogs/states/api-dev-build-automatic-opportunities/scheduled-jobs/20251201191713387900000001]
module.service.aws_cloudwatch_log_group.scheduled_jobs["create-application-submission"]: Refreshing state... [id=/aws/vendedlogs/states/api-dev-create-application-submission/scheduled-jobs/20250902162620760700000001]
data.aws_iam_policy.app_db_access_policy[0]: Reading...
module.service.aws_s3_bucket.access_logs: Refreshing state... [id=api-dev-access-logs20231023213552646900000003]
module.notifications_email_domain[0].data.aws_caller_identity.current: Reading...
module.service.aws_cloudfront_cache_policy.api_no_cache[0]: Refreshing state... [id=eb295aee-cbec-402d-9dca-ceb15292d648]
module.domain.data.aws_acm_certificate.certificate[0]: Reading...
module.notifications_email_domain[0].data.aws_caller_identity.current: Read complete after 0s [id=315341936575]
module.notifications[0].aws_pinpoint_app.app: Refreshing state... [id=26dadc33716449bc8c153ca6ba5a06ed]
data.aws_acm_certificate.s3_cdn_cert[0]: Reading...
module.service.data.aws_region.current: Reading...
module.service.data.aws_region.current: Read complete after 0s [id=us-east-1]
module.secrets.data.aws_ssm_parameter.secrets["API_JWT_PUBLIC_KEY"]: Reading...
module.service.module.network.data.aws_subnets.public: Reading...
module.secrets.data.aws_ssm_parameter.secrets["API_JWT_PUBLIC_KEY"]: Read complete after 1s [id=/api/dev/api-jwt-public-key]
module.service.aws_s3_bucket.s3_buckets["api-analytics-transfer"]: Refreshing state... [id=api-dev-api-analytics-transfer-20241217170228558900000001]
module.service.module.network.data.aws_subnets.public: Read complete after 1s [id=us-east-1]
module.secrets.data.aws_ssm_parameter.secrets["LOGIN_FINAL_DESTINATION"]: Reading...
module.domain.data.aws_acm_certificate.certificate[0]: Read complete after 1s [id=arn:aws:acm:us-east-1:315341936575:certificate/401850f9-6515-4c19-ae89-1aeaab66edb2]
module.service.aws_api_gateway_api_key.frontend_api_access[0]: Refreshing state... [id=tqifu17hud]
module.secrets.data.aws_ssm_parameter.secrets["LOGIN_FINAL_DESTINATION"]: Read complete after 0s [id=/api/dev/frontend-login-redirect-url]
module.secrets.data.aws_ssm_parameter.secrets["NEW_RELIC_LICENSE_KEY"]: Reading...
module.secrets.data.aws_ssm_parameter.secrets["DOCRAPTOR_API_KEY"]: Reading...
data.aws_acm_certificate.s3_cdn_cert[0]: Read complete after 1s [id=arn:aws:acm:us-east-1:315341936575:certificate/5adbc246-e87b-4ee4-ab1e-f5b94ccb862d]
module.secrets.data.aws_ssm_parameter.secrets["LOGIN_GOV_CLIENT_ASSERTION_PRIVATE_KEY"]: Reading...
module.secrets.data.aws_ssm_parameter.secrets["SAM_GOV_API_KEY"]: Reading...
module.secrets.data.aws_ssm_parameter.secrets["NEW_RELIC_LICENSE_KEY"]: Read complete after 0s [id=/api/dev/new-relic-license-key]
module.secrets.data.aws_ssm_parameter.secrets["SOAP_PRIVATE_KEYS"]: Reading...
module.secrets.data.aws_ssm_parameter.secrets["DOCRAPTOR_API_KEY"]: Read complete after 0s [id=/api/dev/docraptor-api-key]
module.secrets.data.aws_ssm_parameter.secrets["API_AUTH_TOKEN"]: Reading...
module.secrets.data.aws_ssm_parameter.secrets["SOAP_PRIVATE_KEYS"]: Read complete after 0s [id=/api/dev/soap-private-keys]
module.secrets.data.aws_ssm_parameter.secrets["API_JWT_PRIVATE_KEY"]: Reading...
module.secrets.data.aws_ssm_parameter.secrets["LOGIN_GOV_CLIENT_ASSERTION_PRIVATE_KEY"]: Read complete after 0s [id=/api/dev/login-gov-client-assertion-private-key]
module.secrets.data.aws_ssm_parameter.secrets["API_GATEWAY_DEFAULT_USAGE_PLAN_ID"]: Reading...
module.secrets.data.aws_ssm_parameter.secrets["SAM_GOV_API_KEY"]: Read complete after 0s [id=/api/dev/sam-gov-api-key]
module.service.aws_cloudwatch_log_group.WafWebAclLoggroup[0]: Refreshing state... [id=aws-waf-logs-wafv2-web-acl-api-dev]
module.secrets.data.aws_ssm_parameter.secrets["API_AUTH_TOKEN"]: Read complete after 0s [id=/api/dev/api-auth-token]
data.aws_rds_cluster.db_cluster[0]: Reading...
module.secrets.data.aws_ssm_parameter.secrets["API_JWT_PRIVATE_KEY"]: Read complete after 0s [id=/api/dev/api-jwt-private-key]
module.secrets.data.aws_ssm_parameter.secrets["API_GATEWAY_DEFAULT_USAGE_PLAN_ID"]: Read complete after 0s [id=/api/dev/api-gateway-default-usage-plan-id]
module.service.data.aws_iam_policy_document.ecs_exec: Reading...
data.aws_acm_certificate.mtls_cert[0]: Reading...
module.service.data.aws_iam_policy_document.ecs_exec: Read complete after 0s [id=1236260518]
module.notifications_email_domain[0].aws_sesv2_configuration_set.email: Refreshing state... [id=dev-simpler-grants-gov]
module.notifications_email_domain[0].data.aws_route53_zone.zone: Reading...
module.domain.data.aws_route53_zone.zone[0]: Reading...
data.aws_rds_cluster.db_cluster[0]: Read complete after 0s [id=api-dev]
module.secrets.data.aws_ssm_parameter.secrets["DOMAIN_VERIFICATION_CONTENT"]: Reading...
data.aws_acm_certificate.mtls_cert[0]: Read complete after 0s [id=arn:aws:acm:us-east-1:315341936575:certificate/9f45ae8d-99d8-42ad-820b-eb9a83f6c5e9]
module.service.aws_cloudwatch_log_group.api_gateway_logs[0]: Refreshing state... [id=service/api-dev-api-gateway/v1-stage]
module.secrets.data.aws_ssm_parameter.secrets["DOMAIN_VERIFICATION_CONTENT"]: Read complete after 0s [id=/api/dev/domain-verification-content]
module.service.aws_cloudfront_origin_request_policy.forward_all_cookies[0]: Refreshing state... [id=0a8ca8c2-850d-4df8-a0e7-c812f062cbae]
module.database[0].data.aws_iam_policy.app_db_access_policy: Read complete after 1s [id=arn:aws:iam::315341936575:policy/api-dev-app-access]
module.secrets.data.aws_ssm_parameter.secrets["FRONTEND_BASE_URL"]: Reading...
module.service.aws_s3_bucket.general_purpose: Refreshing state... [id=api-dev-general-purpose20240416221336163000000001]
data.aws_iam_policy.migrator_db_access_policy[0]: Read complete after 1s [id=arn:aws:iam::315341936575:policy/api-dev-migrator-access]
module.service.module.network.data.aws_subnets.private: Reading...
module.service.aws_s3_bucket.s3_buckets["draft-files"]: Refreshing state... [id=api-dev-draft-files-20241217170228581000000003]
module.service.aws_s3_bucket.s3_buckets["public-files"]: Refreshing state... [id=api-dev-public-files-20241217170228558900000002]
module.service.data.aws_iam_policy_document.events_assume_role: Reading...
module.service.data.aws_iam_policy_document.events_assume_role: Read complete after 0s [id=3959961479]
module.service.module.network.data.aws_vpc.network: Reading...
module.secrets.data.aws_ssm_parameter.secrets["FRONTEND_BASE_URL"]: Read complete after 0s [id=/api/dev/frontend-base-url]
data.aws_iam_policy.opensearch_query[0]: Reading...
module.service.module.network.data.aws_subnets.private: Read complete after 0s [id=us-east-1]
module.database[0].data.aws_iam_policy.migrator_db_access_policy: Reading...
module.notifications_email_domain[0].data.aws_route53_zone.zone: Read complete after 0s [id=Z04517193GDPF9DWUX2WT]
data.aws_iam_policy.opensearch_ingest[0]: Reading...
module.domain.data.aws_route53_zone.zone[0]: Read complete after 0s [id=Z04517193GDPF9DWUX2WT]
module.service.data.aws_caller_identity.current: Reading...
module.service.data.aws_caller_identity.current: Read complete after 0s [id=315341936575]
module.service.aws_iam_role.scheduler: Refreshing state... [id=api-dev-scheduler]
module.service.module.network.data.aws_vpc.network: Read complete after 1s [id=vpc-08f522c5cc442d126]
module.service.aws_iam_role.app_service: Refreshing state... [id=api-dev-app]
module.service.aws_iam_role.task_executor: Refreshing state... [id=api-dev-task-executor]
data.aws_iam_policy.app_db_access_policy[0]: Read complete after 2s [id=arn:aws:iam::315341936575:policy/api-dev-app-access]
module.service.aws_cloudwatch_log_group.fluentbit: Refreshing state... [id=service/api-dev-fluentbit]
module.service.data.aws_iam_policy_document.api_access_restriction[0]: Reading...
module.service.data.aws_iam_policy_document.api_access_restriction[0]: Read complete after 0s [id=806067237]
module.service.aws_api_gateway_model.alpha_applications_model[0]: Refreshing state... [id=7ev2cp]
module.service.aws_api_gateway_resource.root_endpoints["openapi.json"]: Refreshing state... [id=q2nwpl]
module.service.aws_api_gateway_resource.root_endpoints["robots.txt"]: Refreshing state... [id=yz23s7]
module.service.aws_api_gateway_resource.root_endpoints["v1"]: Refreshing state... [id=uu82z4]
module.service.aws_api_gateway_resource.root_endpoints["static"]: Refreshing state... [id=kn28do]
module.service.aws_api_gateway_resource.root_endpoints[".well-known"]: Refreshing state... [id=rta2jw]
module.service.aws_api_gateway_resource.root_endpoints["docs"]: Refreshing state... [id=6l2z2p]
module.service.aws_api_gateway_resource.root_endpoints["grantsws-agency"]: Refreshing state... [id=6agk95]
module.service.aws_api_gateway_resource.root_endpoints["grantsws-applicant"]: Refreshing state... [id=4aerfp]
module.service.aws_api_gateway_resource.root_endpoints["health"]: Refreshing state... [id=kv9vnv]
module.service.aws_api_gateway_resource.root_endpoints["{proxy+}"]: Refreshing state... [id=6vnfzl]
module.service.aws_api_gateway_resource.root_endpoints["alpha"]: Refreshing state... [id=nwdf73]
data.aws_subnets.public: Reading...
data.aws_security_groups.aws_services: Reading...
data.aws_subnets.private: Reading...
module.service.data.aws_iam_policy_document.api_gateway_access[0]: Reading...
module.service.data.aws_iam_policy_document.api_gateway_access[0]: Read complete after 0s [id=663413826]
module.service.aws_s3_bucket_ownership_controls.cdn[0]: Refreshing state... [id=api-dev-cdn-access-logs20250116191905055600000002]
module.service.aws_s3_bucket_public_access_block.cdn[0]: Refreshing state... [id=api-dev-cdn-access-logs20250116191905055600000002]
module.service.aws_s3_bucket_lifecycle_configuration.cdn[0]: Refreshing state... [id=api-dev-cdn-access-logs20250116191905055600000002]
data.aws_subnets.public: Read complete after 0s [id=us-east-1]
module.service.aws_iam_policy.ecs_exec: Refreshing state... [id=arn:aws:iam::315341936575:policy/api-dev-ecs-exec]
data.aws_security_groups.aws_services: Read complete after 0s [id=us-east-1]
module.service.aws_s3_bucket_public_access_block.access_logs: Refreshing state... [id=api-dev-access-logs20231023213552646900000003]
module.service.aws_s3_bucket_lifecycle_configuration.access_logs: Refreshing state... [id=api-dev-access-logs20231023213552646900000003]
module.service.aws_s3_bucket_server_side_encryption_configuration.encryption: Refreshing state... [id=api-dev-access-logs20231023213552646900000003]
module.service.data.aws_iam_policy_document.access_logs_put_access: Reading...
module.service.data.aws_iam_policy_document.access_logs_put_access: Read complete after 0s [id=2049148182]
module.notifications_email_domain[0].aws_sesv2_email_identity.sender_domain: Refreshing state... [id=dev.simpler.grants.gov]
data.aws_subnets.private: Read complete after 0s [id=us-east-1]
module.notifications_email_domain[0].aws_ses_event_destination.logs: Refreshing state... [id=dev-simpler-grants-gov-email-identity-logs]
module.service.aws_iam_role.events: Refreshing state... [id=api-dev-events]
module.notifications_email_domain[0].aws_route53_record.mx_receive: Refreshing state... [id=Z04517193GDPF9DWUX2WT_mail.dev.simpler.grants.gov_MX]
module.service.data.aws_iam_policy_document.runtime_logs: Reading...
module.service.data.aws_iam_policy_document.runtime_logs: Read complete after 0s [id=1037264550]
module.service.data.aws_iam_policy_document.workflow_orchestrator_assume_role: Reading...
module.service.data.aws_iam_policy_document.workflow_orchestrator_assume_role: Read complete after 0s [id=3468042870]
module.service.module.network.data.aws_security_groups.aws_services: Reading...
module.service.module.network.data.aws_security_groups.aws_services: Read complete after 0s [id=us-east-1]
module.service.aws_api_gateway_rest_api_policy.api_access_restriction[0]: Refreshing state... [id=wxuxv45ooj]
module.service.aws_api_gateway_method.root[0]: Refreshing state... [id=agm-wxuxv45ooj-wewgtft4x5-GET]
module.service.aws_s3_bucket_server_side_encryption_configuration.general_purpose_encryption: Refreshing state... [id=api-dev-general-purpose20240416221336163000000001]
module.service.aws_s3_bucket_lifecycle_configuration.general_purpose: Refreshing state... [id=api-dev-general-purpose20240416221336163000000001]
module.service.data.aws_iam_policy_document.general_purpose_put_access: Reading...
module.service.data.aws_iam_policy_document.general_purpose_put_access: Read complete after 0s [id=612448226]
module.service.aws_s3_bucket_public_access_block.general_purpose: Refreshing state... [id=api-dev-general-purpose20240416221336163000000001]
module.service.aws_api_gateway_domain_name.api[0]: Refreshing state... [id=api.dev.simpler.grants.gov]
data.aws_iam_policy.opensearch_query[0]: Read complete after 1s [id=arn:aws:iam::315341936575:policy/api-dev-opensearch-query]
module.service.aws_ssm_parameter.s3_bucket_ids["draft-files"]: Refreshing state... [id=/buckets/api-dev/draft-files/id]
module.service.aws_ssm_parameter.s3_bucket_ids["api-analytics-transfer"]: Refreshing state... [id=/buckets/api-dev/api-analytics-transfer/id]
module.service.aws_ssm_parameter.s3_bucket_ids["public-files"]: Refreshing state... [id=/buckets/api-dev/public-files/id]
module.service.aws_s3_bucket_lifecycle_configuration.s3_buckets["api-analytics-transfer"]: Refreshing state... [id=api-dev-api-analytics-transfer-20241217170228558900000001]
module.database[0].data.aws_iam_policy.migrator_db_access_policy: Read complete after 2s [id=arn:aws:iam::315341936575:policy/api-dev-migrator-access]
module.service.aws_s3_bucket_lifecycle_configuration.s3_buckets["draft-files"]: Refreshing state... [id=api-dev-draft-files-20241217170228581000000003]
module.service.aws_s3_bucket_lifecycle_configuration.s3_buckets["public-files"]: Refreshing state... [id=api-dev-public-files-20241217170228558900000002]
module.service.aws_s3_bucket_public_access_block.s3_buckets["api-analytics-transfer"]: Refreshing state... [id=api-dev-api-analytics-transfer-20241217170228558900000001]
module.service.aws_s3_bucket_public_access_block.s3_buckets["public-files"]: Refreshing state... [id=api-dev-public-files-20241217170228558900000002]
module.service.aws_s3_bucket_public_access_block.s3_buckets["draft-files"]: Refreshing state... [id=api-dev-draft-files-20241217170228581000000003]
data.aws_iam_policy.opensearch_ingest[0]: Read complete after 2s [id=arn:aws:iam::315341936575:policy/api-dev-opensearch-ingest]
module.service.aws_ssm_parameter.s3_bucket_arns["api-analytics-transfer"]: Refreshing state... [id=/buckets/api-dev/api-analytics-transfer/arn]
module.service.aws_ssm_parameter.s3_bucket_arns["draft-files"]: Refreshing state... [id=/buckets/api-dev/draft-files/arn]
module.service.aws_ssm_parameter.s3_bucket_arns["public-files"]: Refreshing state... [id=/buckets/api-dev/public-files/arn]
module.service.aws_s3_bucket_server_side_encryption_configuration.s3_buckets["api-analytics-transfer"]: Refreshing state... [id=api-dev-api-analytics-transfer-20241217170228558900000001]
module.service.aws_s3_bucket_server_side_encryption_configuration.s3_buckets["draft-files"]: Refreshing state... [id=api-dev-draft-files-20241217170228581000000003]
module.service.aws_s3_bucket_server_side_encryption_configuration.s3_buckets["public-files"]: Refreshing state... [id=api-dev-public-files-20241217170228558900000002]
module.service.aws_iam_policy.api_gateway_access[0]: Refreshing state... [id=arn:aws:iam::315341936575:policy/api-dev-api-gateway-access-role-policy]
module.service.aws_api_gateway_resource.first_level_endpoints["alpha/applications"]: Refreshing state... [id=ygexvp]
module.service.aws_api_gateway_resource.first_level_endpoints["grantsws-agency/services"]: Refreshing state... [id=7h7abi]
module.service.aws_api_gateway_resource.first_level_endpoints["static/{proxy+}"]: Refreshing state... [id=9zn738]
module.service.aws_api_gateway_resource.first_level_endpoints["alpha/forms"]: Refreshing state... [id=ntyhnc]
module.service.aws_api_gateway_resource.first_level_endpoints[".well-known/pki-validation"]: Refreshing state... [id=3rq4qb]
module.service.aws_api_gateway_resource.first_level_endpoints["v1/users"]: Refreshing state... [id=94wmdw]
module.service.aws_api_gateway_resource.first_level_endpoints["grantsws-applicant/services"]: Refreshing state... [id=4b0ibd]
module.service.aws_api_gateway_method.root_endpoints["health-GET"]: Refreshing state... [id=agm-wxuxv45ooj-kv9vnv-GET]
module.service.aws_api_gateway_method.root_endpoints["{proxy+}-ANY"]: Refreshing state... [id=agm-wxuxv45ooj-6vnfzl-ANY]
module.service.aws_api_gateway_method.root_endpoints["robots.txt-GET"]: Refreshing state... [id=agm-wxuxv45ooj-yz23s7-GET]
module.service.aws_api_gateway_method.root_endpoints["docs-GET"]: Refreshing state... [id=agm-wxuxv45ooj-6l2z2p-GET]
module.service.aws_api_gateway_method.root_endpoints["openapi.json-GET"]: Refreshing state... [id=agm-wxuxv45ooj-q2nwpl-GET]
module.service.aws_s3_bucket_acl.cdn[0]: Refreshing state... [id=api-dev-cdn-access-logs20250116191905055600000002,log-delivery-write]
module.service.aws_s3_bucket_policy.access_logs: Refreshing state... [id=api-dev-access-logs20231023213552646900000003]
module.service.aws_iam_policy.runtime_logs: Refreshing state... [id=arn:aws:iam::315341936575:policy/api-dev-task-executor-role-policy]
module.service.aws_iam_role.workflow_orchestrator: Refreshing state... [id=api-dev-workflow-orchestrator]
module.service.aws_security_group.alb: Refreshing state... [id=sg-025e1dd290c12d572]
module.service.aws_lb_target_group.app_tg[0]: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:315341936575:targetgroup/app-20240129204404286300000001/2225bef73ea80162]
module.service.aws_lb_target_group.mtls_tg[0]: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:315341936575:targetgroup/mtls-20250623204826794600000001/d4bfbe0ea5dcaf0d]
module.service.aws_wafv2_web_acl_logging_configuration.WafWebAclLogging[0]: Refreshing state... [id=arn:aws:wafv2:us-east-1:315341936575:regional/webacl/api-dev-wafv2-web-acl/a13139a8-fb10-4545-89fb-924417495223]
module.service.aws_s3_bucket_policy.general_purpose: Refreshing state... [id=api-dev-general-purpose20240416221336163000000001]
module.service.aws_api_gateway_integration.root[0]: Refreshing state... [id=agi-wxuxv45ooj-wewgtft4x5-GET]
module.notifications_email_domain[0].aws_sesv2_email_identity_policy.sender: Refreshing state... [id=dev.simpler.grants.gov|PinpointEmail]
module.notifications_email_domain[0].aws_sesv2_email_identity_mail_from_attributes.sender_domain: Refreshing state... [id=dev.simpler.grants.gov]
module.notifications_email_domain[0].aws_route53_record.dkim[2]: Refreshing state... [id=Z04517193GDPF9DWUX2WT_3hwyu5qifcdnrgstnintgupuu4uaqt4b._domainkey_CNAME]
module.notifications_email_domain[0].aws_route53_record.dkim[0]: Refreshing state... [id=Z04517193GDPF9DWUX2WT_euqp5oauub2jxtiglvjorht373aatuju._domainkey_CNAME]
module.notifications_email_domain[0].aws_route53_record.dkim[1]: Refreshing state... [id=Z04517193GDPF9DWUX2WT_726yiosqv6432ssoifjxuotdmseplz6c._domainkey_CNAME]
module.service.aws_iam_role_policy_attachment.api_gateway_access[0]: Refreshing state... [id=api-dev-app-20250918161043065300000002]
module.service.aws_api_gateway_resource.second_level_endpoints["alpha/forms/{form_id}"]: Refreshing state... [id=hdgc1j]
module.service.aws_api_gateway_resource.second_level_endpoints["grantsws-agency/services/v2"]: Refreshing state... [id=niamzr]
module.service.aws_api_gateway_resource.second_level_endpoints["v1/users/token"]: Refreshing state... [id=plj4qg]
module.service.aws_api_gateway_resource.second_level_endpoints["grantsws-applicant/services/v2"]: Refreshing state... [id=omweuk]
module.service.aws_api_gateway_resource.second_level_endpoints["alpha/applications/{application_id}"]: Refreshing state... [id=db17q6]
module.service.aws_api_gateway_resource.second_level_endpoints[".well-known/pki-validation/{proxy+}"]: Refreshing state... [id=21x20r]
module.service.aws_api_gateway_resource.second_level_endpoints["v1/users/login"]: Refreshing state... [id=7znsiw]
module.service.aws_api_gateway_method.first_level_endpoints["static/{proxy+}-ANY"]: Refreshing state... [id=agm-wxuxv45ooj-9zn738-ANY]
module.service.data.aws_iam_policy_document.task_executor: Reading...
module.service.data.aws_iam_policy_document.task_executor: Read complete after 0s [id=3060599744]
module.service.aws_api_gateway_integration.root_endpoints["health-GET"]: Refreshing state... [id=agi-wxuxv45ooj-kv9vnv-GET]
module.service.aws_api_gateway_integration.root_endpoints["openapi.json-GET"]: Refreshing state... [id=agi-wxuxv45ooj-q2nwpl-GET]
module.service.aws_api_gateway_integration.root_endpoints["docs-GET"]: Refreshing state... [id=agi-wxuxv45ooj-6l2z2p-GET]
module.service.aws_api_gateway_integration.root_endpoints["{proxy+}-ANY"]: Refreshing state... [id=agi-wxuxv45ooj-6vnfzl-ANY]
module.service.aws_api_gateway_integration.root_endpoints["robots.txt-GET"]: Refreshing state... [id=agi-wxuxv45ooj-yz23s7-GET]
module.service.aws_security_group_rule.http_ingress_ipv6: Refreshing state... [id=sgrule-2134446771]
module.service.aws_security_group.app: Refreshing state... [id=sg-0eab49e76a34379f9]
module.service.aws_security_group_rule.http_ingress: Refreshing state... [id=sgrule-69662097]
module.service.aws_lb.alb[0]: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:315341936575:loadbalancer/app/api-dev/48f2e65279b967a5]
module.service.aws_lb.alb[1]: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:315341936575:loadbalancer/app/api-dev-mtls/3140048efa26be8e]
module.service.aws_security_group_rule.https_ingress[0]: Refreshing state... [id=sgrule-61791004]
module.service.aws_security_group_rule.https_ingress_ipv6[0]: Refreshing state... [id=sgrule-1537373897]
module.service.aws_iam_role_policy_attachment.runtime_logs: Refreshing state... [id=api-dev-app-20250428193958540800000001]
module.service.aws_iam_role_policy_attachment.extra_policies["opensearch_query"]: Refreshing state... [id=api-dev-app-20251216142246163500000002]
module.service.data.aws_iam_policy_document.email_access[0]: Reading...
module.service.data.aws_iam_policy_document.email_access[0]: Read complete after 0s [id=3811623138]
module.notifications_email_domain[0].aws_route53_record.spf_mail_from: Refreshing state... [id=Z04517193GDPF9DWUX2WT_mail.dev.simpler.grants.gov_TXT]
module.service.aws_iam_role_policy.task_executor: Refreshing state... [id=api-dev-task-executor:api-dev-task-executor-role-policy]
module.service.aws_api_gateway_resource.third_level_endpoints["v1/users/login/callback"]: Refreshing state... [id=36aya8]
module.service.aws_api_gateway_resource.third_level_endpoints["alpha/forms/{form_id}/form_instructions"]: Refreshing state... [id=0e2q7i]
module.service.aws_api_gateway_resource.third_level_endpoints["alpha/applications/{application_id}/attachments"]: Refreshing state... [id=lz25uc]
module.service.aws_api_gateway_resource.third_level_endpoints["v1/users/token/logout"]: Refreshing state... [id=rbmxyv]
module.service.aws_api_gateway_resource.third_level_endpoints["grantsws-agency/services/v2/{service_port_name}"]: Refreshing state... [id=uzbs2q]
module.service.aws_api_gateway_resource.third_level_endpoints["grantsws-applicant/services/v2/{service_port_name}"]: Refreshing state... [id=8g19iv]
module.service.aws_api_gateway_resource.third_level_endpoints["v1/users/token/refresh"]: Refreshing state... [id=05z9yx]
module.service.aws_api_gateway_resource.third_level_endpoints["v1/users/login/result"]: Refreshing state... [id=hskork]
module.service.aws_api_gateway_method.second_level_endpoints[".well-known/pki-validation/{proxy+}-ANY"]: Refreshing state... [id=agm-wxuxv45ooj-21x20r-ANY]
module.service.aws_api_gateway_method.second_level_endpoints["v1/users/login-GET"]: Refreshing state... [id=agm-wxuxv45ooj-7znsiw-GET]
module.service.aws_api_gateway_integration.first_level_endpoints["static/{proxy+}-ANY"]: Refreshing state... [id=agi-wxuxv45ooj-9zn738-ANY]
module.service.aws_iam_role_policy_attachment.app_service_db_access[0]: Refreshing state... [id=api-dev-app-20231023230412768300000001]
module.service.aws_iam_role.migrator_task[0]: Refreshing state... [id=api-dev-migrator]
module.service.aws_iam_policy.email_access[0]: Refreshing state... [id=arn:aws:iam::315341936575:policy/api-dev-email-access-role-policy]
module.service.aws_security_group_rule.alb_app_local_health_check: Refreshing state... [id=sgrule-2094221940]
module.service.aws_vpc_security_group_ingress_rule.db_ingress_from_service[0]: Refreshing state... [id=sgr-024fcce0dd2b24824]
module.service.aws_lb_listener.alb_listener_http[0]: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:315341936575:listener/app/api-dev/48f2e65279b967a5/d4ce6505b9614ba0]
module.service.aws_lb_listener.alb_listener_https[0]: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:315341936575:listener/app/api-dev/48f2e65279b967a5/fb2b9c099b498d96]
module.service.aws_lb_listener.alb_listener_https[1]: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:315341936575:listener/app/api-dev-mtls/3140048efa26be8e/87744942a61c5462]
module.service.aws_wafv2_web_acl_association.WafWebAclAssociation[0]: Refreshing state... [id=arn:aws:wafv2:us-east-1:315341936575:regional/webacl/api-dev-wafv2-web-acl/a13139a8-fb10-4545-89fb-924417495223,arn:aws:elasticloadbalancing:us-east-1:315341936575:loadbalancer/app/api-dev/48f2e65279b967a5]
module.service.aws_api_gateway_method.third_level_endpoints["grantsws-agency/services/v2/{service_port_name}-POST"]: Refreshing state... [id=agm-wxuxv45ooj-uzbs2q-POST]
module.service.aws_api_gateway_method.third_level_endpoints["v1/users/login/result-GET"]: Refreshing state... [id=agm-wxuxv45ooj-hskork-GET]
module.service.aws_api_gateway_method.third_level_endpoints["v1/users/login/callback-GET"]: Refreshing state... [id=agm-wxuxv45ooj-36aya8-GET]
module.service.aws_api_gateway_method.third_level_endpoints["v1/users/token/logout-GET"]: Refreshing state... [id=agm-wxuxv45ooj-rbmxyv-GET]
module.service.aws_api_gateway_method.third_level_endpoints["v1/users/token/refresh-GET"]: Refreshing state... [id=agm-wxuxv45ooj-05z9yx-GET]
module.service.aws_api_gateway_method.third_level_endpoints["alpha/applications/{application_id}/attachments-POST"]: Refreshing state... [id=agm-wxuxv45ooj-lz25uc-POST]
module.service.aws_api_gateway_method.third_level_endpoints["grantsws-applicant/services/v2/{service_port_name}-POST"]: Refreshing state... [id=agm-wxuxv45ooj-8g19iv-POST]
module.service.aws_api_gateway_resource.fourth_level_endpoints["alpha/applications/{application_id}/attachments/{application_attachment_id}"]: Refreshing state... [id=xqpgve]
module.service.aws_api_gateway_resource.fourth_level_endpoints["alpha/forms/{form_id}/form_instructions/{form_instruction_id}"]: Refreshing state... [id=jg7n1y]
module.service.aws_cloudfront_distribution.cdn[0]: Refreshing state... [id=E3OVMJEHODS81X]
module.service.aws_api_gateway_integration.second_level_endpoints[".well-known/pki-validation/{proxy+}-ANY"]: Refreshing state... [id=agi-wxuxv45ooj-21x20r-ANY]
module.service.aws_api_gateway_integration.second_level_endpoints["v1/users/login-GET"]: Refreshing state... [id=agi-wxuxv45ooj-7znsiw-GET]
module.service.aws_iam_role_policy_attachment.email_access[0]: Refreshing state... [id=api-dev-app-20250612142702959800000002]
module.service.aws_iam_role_policy_attachment.migrator_email_access[0]: Refreshing state... [id=api-dev-migrator-20251216170036983200000001]
module.service.aws_iam_role_policy_attachment.migrator_db_access[0]: Refreshing state... [id=api-dev-migrator-20231023230412789800000002]
module.service.aws_iam_role_policy_attachment.migrator_app_db_access[0]: Refreshing state... [id=api-dev-migrator-20251216231354726600000002]
module.service.aws_iam_role_policy_attachment.migrator_opensearch_ingest[0]: Refreshing state... [id=api-dev-migrator-20260130102225749500000002]
module.service.aws_api_gateway_integration.third_level_endpoints["v1/users/token/logout-GET"]: Refreshing state... [id=agi-wxuxv45ooj-rbmxyv-GET]
module.service.aws_api_gateway_integration.third_level_endpoints["grantsws-agency/services/v2/{service_port_name}-POST"]: Refreshing state... [id=agi-wxuxv45ooj-uzbs2q-POST]
module.service.aws_api_gateway_integration.third_level_endpoints["v1/users/login/result-GET"]: Refreshing state... [id=agi-wxuxv45ooj-hskork-GET]
module.service.aws_api_gateway_integration.third_level_endpoints["alpha/applications/{application_id}/attachments-POST"]: Refreshing state... [id=agi-wxuxv45ooj-lz25uc-POST]
module.service.aws_api_gateway_integration.third_level_endpoints["v1/users/token/refresh-GET"]: Refreshing state... [id=agi-wxuxv45ooj-05z9yx-GET]
module.service.aws_api_gateway_integration.third_level_endpoints["grantsws-applicant/services/v2/{service_port_name}-POST"]: Refreshing state... [id=agi-wxuxv45ooj-8g19iv-POST]
module.service.aws_api_gateway_integration.third_level_endpoints["v1/users/login/callback-GET"]: Refreshing state... [id=agi-wxuxv45ooj-36aya8-GET]
module.service.aws_api_gateway_method.fourth_level_endpoints["alpha/applications/{application_id}/attachments/{application_attachment_id}-PUT"]: Refreshing state... [id=agm-wxuxv45ooj-xqpgve-PUT]
module.service.aws_api_gateway_method.fourth_level_endpoints["alpha/forms/{form_id}/form_instructions/{form_instruction_id}-PUT"]: Refreshing state... [id=agm-wxuxv45ooj-jg7n1y-PUT]
module.service.aws_lb_listener_rule.app_http_forward[0]: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:315341936575:listener-rule/app/api-dev/48f2e65279b967a5/d4ce6505b9614ba0/009594b77c825b5a]
module.service.aws_lb_listener_certificate.alb_listener_https_optional_extra_certs["arn:aws:acm:us-east-1:315341936575:certificate/87f1b277-3118-414a-8971-388a44e07393"]: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:315341936575:listener/app/api-dev/48f2e65279b967a5/fb2b9c099b498d96_arn:aws:acm:us-east-1:315341936575:certificate/87f1b277-3118-414a-8971-388a44e07393]
module.service.aws_lb_listener_rule.app_https_forward[0]: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:315341936575:listener-rule/app/api-dev/48f2e65279b967a5/fb2b9c099b498d96/77f3b4b749a22699]
module.service.aws_lb_listener_rule.app_https_forward[1]: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:315341936575:listener-rule/app/api-dev-mtls/3140048efa26be8e/87744942a61c5462/f63420ab301917af]
module.service.aws_s3_bucket_policy.cdn[0]: Refreshing state... [id=api-dev-cdn-access-logs20250116191905055600000002]
module.service.aws_s3_bucket_policy.s3_buckets["draft-files"]: Refreshing state... [id=api-dev-draft-files-20241217170228581000000003]
module.service.aws_s3_bucket_policy.s3_buckets["public-files"]: Refreshing state... [id=api-dev-public-files-20241217170228558900000002]
module.service.aws_s3_bucket_policy.s3_buckets["api-analytics-transfer"]: Refreshing state... [id=api-dev-api-analytics-transfer-20241217170228558900000001]
module.service.aws_ecs_task_definition.app: Refreshing state... [id=api-dev]
module.service.aws_ecs_task_definition.migrator[0]: Refreshing state... [id=api-dev-migrator]
module.service.aws_api_gateway_integration.fourth_level_endpoints["alpha/applications/{application_id}/attachments/{application_attachment_id}-PUT"]: Refreshing state... [id=agi-wxuxv45ooj-xqpgve-PUT]
module.service.aws_api_gateway_integration.fourth_level_endpoints["alpha/forms/{form_id}/form_instructions/{form_instruction_id}-PUT"]: Refreshing state... [id=agi-wxuxv45ooj-jg7n1y-PUT]
module.service.data.aws_iam_policy_document.run_task: Reading...
module.service.data.aws_iam_policy_document.run_task: Read complete after 0s [id=1712525928]
module.service.aws_ecs_service.app: Refreshing state... [id=arn:aws:ecs:us-east-1:315341936575:service/api-dev/api-dev]
module.service.aws_iam_policy.run_task: Refreshing state... [id=arn:aws:iam::315341936575:policy/api-dev-run-access]
module.service.aws_api_gateway_deployment.api_deployment[0]: Refreshing state... [id=lff734]
module.service.aws_sfn_state_machine.scheduled_jobs["email_notification_opportunity"]: Refreshing state... [id=arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-email_notification_opportunity]
module.service.aws_sfn_state_machine.scheduled_jobs["load-search-agency-data"]: Refreshing state... [id=arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-search-agency-data]
module.service.aws_sfn_state_machine.scheduled_jobs["create-application-submission"]: Refreshing state... [id=arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-create-application-submission]
module.service.aws_sfn_state_machine.scheduled_jobs["load-transform"]: Refreshing state... [id=arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-transform]
module.service.aws_sfn_state_machine.scheduled_jobs["build-automatic-opportunities"]: Refreshing state... [id=arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-build-automatic-opportunities]
module.service.aws_sfn_state_machine.scheduled_jobs["sam-extracts"]: Refreshing state... [id=arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-sam-extracts]
module.service.aws_sfn_state_machine.scheduled_jobs["create-analytics-db-csvs"]: Refreshing state... [id=arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-create-analytics-db-csvs]
module.service.aws_sfn_state_machine.scheduled_jobs["load-search-opportunity-data"]: Refreshing state... [id=arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-search-opportunity-data]
module.service.aws_sfn_state_machine.scheduled_jobs["export-opportunity-data"]: Refreshing state... [id=arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-export-opportunity-data]
module.service.aws_api_gateway_stage.api_v1_stage[0]: Refreshing state... [id=ags-wxuxv45ooj-v1]
module.service.aws_appautoscaling_target.ecs_target[0]: Refreshing state... [id=service/api-dev/api-dev]
module.service.aws_iam_policy.workflow_orchestrator: Refreshing state... [id=arn:aws:iam::315341936575:policy/api-dev-workflow-orchestrator]
module.service.aws_api_gateway_base_path_mapping.api_domain_name_mapping_v1[0]: Refreshing state... [id=api.dev.simpler.grants.gov/]
module.service.aws_api_gateway_method_settings.api_v1_stage_settings[0]: Refreshing state... [id=wxuxv45ooj-v1-*/*]
module.service.aws_api_gateway_usage_plan.api_public_usage_plan[0]: Refreshing state... [id=piknl2]
module.service.aws_api_gateway_usage_plan.api_internal_usage_plan[0]: Refreshing state... [id=txe83x]
module.service.aws_scheduler_schedule.scheduled_jobs["create-application-submission"]: Refreshing state... [id=default/api-dev-create-application-submission]
module.service.aws_scheduler_schedule.scheduled_jobs["create-analytics-db-csvs"]: Refreshing state... [id=default/api-dev-create-analytics-db-csvs]
module.service.aws_scheduler_schedule.scheduled_jobs["email_notification_opportunity"]: Refreshing state... [id=default/api-dev-email_notification_opportunity]
module.service.aws_scheduler_schedule.scheduled_jobs["load-search-agency-data"]: Refreshing state... [id=default/api-dev-load-search-agency-data]
module.service.aws_scheduler_schedule.scheduled_jobs["load-transform"]: Refreshing state... [id=default/api-dev-load-transform]
module.service.aws_scheduler_schedule.scheduled_jobs["build-automatic-opportunities"]: Refreshing state... [id=default/api-dev-build-automatic-opportunities]
module.service.aws_scheduler_schedule.scheduled_jobs["sam-extracts"]: Refreshing state... [id=default/api-dev-sam-extracts]
module.service.aws_scheduler_schedule.scheduled_jobs["export-opportunity-data"]: Refreshing state... [id=default/api-dev-export-opportunity-data]
module.service.aws_scheduler_schedule.scheduled_jobs["load-search-opportunity-data"]: Refreshing state... [id=default/api-dev-load-search-opportunity-data]
module.service.aws_iam_policy.scheduler: Refreshing state... [id=arn:aws:iam::315341936575:policy/api-dev-scheduler]
module.service.aws_api_gateway_usage_plan_key.frontend_api_access[0]: Refreshing state... [id=tqifu17hud]
module.service.aws_appautoscaling_policy.ecs_scale_policy_cpu[0]: Refreshing state... [id=api-dev-ecs-scale-policy-cpu]
module.service.aws_appautoscaling_policy.ecs_scale_policy_memory[0]: Refreshing state... [id=api-dev-ecs-scale-policy-memory]

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  + create
  ~ update in-place
-/+ destroy and then create replacement
 <= read (data resources)

Terraform will perform the following actions:

  # module.monitoring.aws_cloudwatch_log_metric_filter.service_error_filter will be created
  + resource "aws_cloudwatch_log_metric_filter" "service_error_filter" {
      + id             = (known after apply)
      + log_group_name = "service/api-dev"
      + name           = "service-error-filter"
      + pattern        = "%ERROR | Exception%"

      + metric_transformation {
          + name      = "ErrorCount"
          + namespace = "api-dev"
          + unit      = "None"
          + value     = "1"
        }
    }

  # module.monitoring.aws_cloudwatch_metric_alarm.high_app_http_5xx_count will be created
  + resource "aws_cloudwatch_metric_alarm" "high_app_http_5xx_count" {
      + actions_enabled                       = true
      + alarm_actions                         = (known after apply)
      + alarm_description                     = "High HTTP service 5XX error count"
      + alarm_name                            = "api-dev-high-app-5xx-count"
      + arn                                   = (known after apply)
      + comparison_operator                   = "GreaterThanOrEqualToThreshold"
      + dimensions                            = {
          + "LoadBalancer" = "app/api-dev/48f2e65279b967a5"
        }
      + evaluate_low_sample_count_percentiles = (known after apply)
      + evaluation_periods                    = 5
      + id                                    = (known after apply)
      + metric_name                           = "HTTPCode_Target_5XX_Count"
      + namespace                             = "AWS/ApplicationELB"
      + ok_actions                            = (known after apply)
      + period                                = 60
      + statistic                             = "Sum"
      + tags_all                              = {
          + "app"                 = "api"
          + "description"         = "Application resources created in dev environment"
          + "environment"         = "dev"
          + "owner"               = "navapbc"
          + "project"             = "simpler-grants-gov"
          + "repository"          = "https://github.com/HHS/simpler-grants-gov"
          + "service_name"        = "api-dev"
          + "terraform"           = "true"
          + "terraform_workspace" = "default"
        }
      + threshold                             = 1
      + treat_missing_data                    = "notBreaching"
    }

  # module.monitoring.aws_cloudwatch_metric_alarm.high_app_response_time will be created
  + resource "aws_cloudwatch_metric_alarm" "high_app_response_time" {
      + actions_enabled                       = true
      + alarm_actions                         = (known after apply)
      + alarm_description                     = "High target latency alert"
      + alarm_name                            = "api-dev-high-app-response-time"
      + arn                                   = (known after apply)
      + comparison_operator                   = "GreaterThanOrEqualToThreshold"
      + dimensions                            = {
          + "LoadBalancer" = "app/api-dev/48f2e65279b967a5"
        }
      + evaluate_low_sample_count_percentiles = (known after apply)
      + evaluation_periods                    = 5
      + id                                    = (known after apply)
      + metric_name                           = "TargetResponseTime"
      + namespace                             = "AWS/ApplicationELB"
      + ok_actions                            = (known after apply)
      + period                                = 60
      + statistic                             = "Average"
      + tags_all                              = {
          + "app"                 = "api"
          + "description"         = "Application resources created in dev environment"
          + "environment"         = "dev"
          + "owner"               = "navapbc"
          + "project"             = "simpler-grants-gov"
          + "repository"          = "https://github.com/HHS/simpler-grants-gov"
          + "service_name"        = "api-dev"
          + "terraform"           = "true"
          + "terraform_workspace" = "default"
        }
      + threshold                             = 0.5
      + treat_missing_data                    = "ignore"
    }

  # module.monitoring.aws_cloudwatch_metric_alarm.high_load_balancer_http_5xx_count will be created
  + resource "aws_cloudwatch_metric_alarm" "high_load_balancer_http_5xx_count" {
      + actions_enabled                       = true
      + alarm_actions                         = (known after apply)
      + alarm_description                     = "High HTTP ELB 5XX error count"
      + alarm_name                            = "api-dev-high-load-balancer-5xx-count"
      + arn                                   = (known after apply)
      + comparison_operator                   = "GreaterThanOrEqualToThreshold"
      + dimensions                            = {
          + "LoadBalancer" = "app/api-dev/48f2e65279b967a5"
        }
      + evaluate_low_sample_count_percentiles = (known after apply)
      + evaluation_periods                    = 5
      + id                                    = (known after apply)
      + metric_name                           = "HTTPCode_ELB_5XX_Count"
      + namespace                             = "AWS/ApplicationELB"
      + ok_actions                            = (known after apply)
      + period                                = 60
      + statistic                             = "Sum"
      + tags_all                              = {
          + "app"                 = "api"
          + "description"         = "Application resources created in dev environment"
          + "environment"         = "dev"
          + "owner"               = "navapbc"
          + "project"             = "simpler-grants-gov"
          + "repository"          = "https://github.com/HHS/simpler-grants-gov"
          + "service_name"        = "api-dev"
          + "terraform"           = "true"
          + "terraform_workspace" = "default"
        }
      + threshold                             = 1
      + treat_missing_data                    = "notBreaching"
    }

  # module.monitoring.aws_cloudwatch_metric_alarm.service_errors will be created
  + resource "aws_cloudwatch_metric_alarm" "service_errors" {
      + actions_enabled                       = true
      + alarm_actions                         = (known after apply)
      + alarm_description                     = "Alarm for service errors"
      + alarm_name                            = "api-dev-errors"
      + arn                                   = (known after apply)
      + comparison_operator                   = "GreaterThanThreshold"
      + evaluate_low_sample_count_percentiles = (known after apply)
      + evaluation_periods                    = 1
      + id                                    = (known after apply)
      + metric_name                           = "ErrorCount"
      + namespace                             = "api-dev"
      + ok_actions                            = (known after apply)
      + period                                = 60
      + statistic                             = "Sum"
      + tags_all                              = {
          + "app"                 = "api"
          + "description"         = "Application resources created in dev environment"
          + "environment"         = "dev"
          + "owner"               = "navapbc"
          + "project"             = "simpler-grants-gov"
          + "repository"          = "https://github.com/HHS/simpler-grants-gov"
          + "service_name"        = "api-dev"
          + "terraform"           = "true"
          + "terraform_workspace" = "default"
        }
      + threshold                             = 0
      + treat_missing_data                    = "ignore"
    }

  # module.monitoring.aws_sns_topic.this will be created
  + resource "aws_sns_topic" "this" {
      + arn                         = (known after apply)
      + beginning_archive_time      = (known after apply)
      + content_based_deduplication = false
      + fifo_topic                  = false
      + id                          = (known after apply)
      + name                        = "api-dev-monitoring"
      + name_prefix                 = (known after apply)
      + owner                       = (known after apply)
      + policy                      = (known after apply)
      + signature_version           = (known after apply)
      + tags_all                    = {
          + "app"                 = "api"
          + "description"         = "Application resources created in dev environment"
          + "environment"         = "dev"
          + "owner"               = "navapbc"
          + "project"             = "simpler-grants-gov"
          + "repository"          = "https://github.com/HHS/simpler-grants-gov"
          + "service_name"        = "api-dev"
          + "terraform"           = "true"
          + "terraform_workspace" = "default"
        }
      + tracing_config              = (known after apply)
    }

  # module.notifications[0].aws_iam_policy.access will be created
  + resource "aws_iam_policy" "access" {
      + arn              = (known after apply)
      + attachment_count = (known after apply)
      + description      = "Policy for calling SendMessages and SendUsersMessages on Pinpoint app api-dev"
      + id               = (known after apply)
      + name             = "api-dev-notifications-access"
      + name_prefix      = (known after apply)
      + path             = "/"
      + policy           = jsonencode(
            {
              + Statement = [
                  + {
                      + Action   = [
                          + "mobiletargeting:SendMessages",
                          + "mobiletargeting:SendUsersMessages",
                        ]
                      + Effect   = "Allow"
                      + Resource = "arn:aws:mobiletargeting:us-east-1:315341936575:apps/26dadc33716449bc8c153ca6ba5a06ed/messages"
                    },
                  + {
                      + Action   = [
                          + "ses:SendEmail",
                          + "ses:SendRawEmail",
                        ]
                      + Effect   = "Allow"
                      + Resource = [
                          + "arn:aws:ses:us-east-1:315341936575:identity/dev.simpler.grants.gov",
                          + "arn:*:ses:*:*:configuration-set/*",
                        ]
                    },
                ]
              + Version   = "2012-10-17"
            }
        )
      + policy_id        = (known after apply)
      + tags_all         = {
          + "app"                 = "api"
          + "description"         = "Application resources created in dev environment"
          + "environment"         = "dev"
          + "owner"               = "navapbc"
          + "project"             = "simpler-grants-gov"
          + "repository"          = "https://github.com/HHS/simpler-grants-gov"
          + "service_name"        = "api-dev"
          + "terraform"           = "true"
          + "terraform_workspace" = "default"
        }
    }

  # module.service.data.aws_iam_policy_document.cdn[0] will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "aws_iam_policy_document" "cdn" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "s3:GetObject",
            ]
          + effect    = "Allow"
          + resources = [
              + "arn:aws:s3:::api-dev-cdn-access-logs20250116191905055600000002/*",
            ]
          + sid       = "AllowCloudFrontIngress"

          + condition {
              + test     = "StringEquals"
              + values   = [
                  + "arn:aws:cloudfront::315341936575:distribution/E3OVMJEHODS81X",
                ]
              + variable = "AWS:SourceArn"
            }

          + principals {
              + identifiers = [
                  + "cloudfront.amazonaws.com",
                ]
              + type        = "Service"
            }
        }
    }

  # module.service.data.aws_iam_policy_document.s3_buckets_put_access["api-analytics-transfer"] will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "aws_iam_policy_document" "s3_buckets_put_access" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "s3:*",
            ]
          + effect    = "Allow"
          + resources = [
              + "arn:aws:s3:::api-dev-api-analytics-transfer-20241217170228558900000001",
              + "arn:aws:s3:::api-dev-api-analytics-transfer-20241217170228558900000001/*",
            ]

          + principals {
              + identifiers = [
                  + "arn:aws:iam::315341936575:role/api-dev-app",
                  + "arn:aws:iam::315341936575:role/api-dev-migrator",
                ]
              + type        = "AWS"
            }
        }
      + statement {
          + actions   = [
              + "s3:*",
            ]
          + effect    = "Deny"
          + resources = [
              + "arn:aws:s3:::api-dev-api-analytics-transfer-20241217170228558900000001",
              + "arn:aws:s3:::api-dev-api-analytics-transfer-20241217170228558900000001/*",
            ]
          + sid       = "AllowSSLRequestsOnly"

          + condition {
              + test     = "Bool"
              + values   = [
                  + "false",
                ]
              + variable = "aws:SecureTransport"
            }

          + principals {
              + identifiers = [
                  + "*",
                ]
              + type        = "AWS"
            }
        }
    }

  # module.service.data.aws_iam_policy_document.s3_buckets_put_access["draft-files"] will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "aws_iam_policy_document" "s3_buckets_put_access" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "s3:*",
            ]
          + effect    = "Allow"
          + resources = [
              + "arn:aws:s3:::api-dev-draft-files-20241217170228581000000003",
              + "arn:aws:s3:::api-dev-draft-files-20241217170228581000000003/*",
            ]

          + principals {
              + identifiers = [
                  + "arn:aws:iam::315341936575:role/api-dev-app",
                  + "arn:aws:iam::315341936575:role/api-dev-migrator",
                ]
              + type        = "AWS"
            }
        }
      + statement {
          + actions   = [
              + "s3:*",
            ]
          + effect    = "Deny"
          + resources = [
              + "arn:aws:s3:::api-dev-draft-files-20241217170228581000000003",
              + "arn:aws:s3:::api-dev-draft-files-20241217170228581000000003/*",
            ]
          + sid       = "AllowSSLRequestsOnly"

          + condition {
              + test     = "Bool"
              + values   = [
                  + "false",
                ]
              + variable = "aws:SecureTransport"
            }

          + principals {
              + identifiers = [
                  + "*",
                ]
              + type        = "AWS"
            }
        }
    }

  # module.service.data.aws_iam_policy_document.s3_buckets_put_access["public-files"] will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "aws_iam_policy_document" "s3_buckets_put_access" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "s3:*",
            ]
          + effect    = "Allow"
          + resources = [
              + "arn:aws:s3:::api-dev-public-files-20241217170228558900000002",
              + "arn:aws:s3:::api-dev-public-files-20241217170228558900000002/*",
            ]

          + principals {
              + identifiers = [
                  + "arn:aws:iam::315341936575:role/api-dev-app",
                  + "arn:aws:iam::315341936575:role/api-dev-migrator",
                ]
              + type        = "AWS"
            }
        }
      + statement {
          + actions   = [
              + "s3:*",
            ]
          + effect    = "Deny"
          + resources = [
              + "arn:aws:s3:::api-dev-public-files-20241217170228558900000002",
              + "arn:aws:s3:::api-dev-public-files-20241217170228558900000002/*",
            ]
          + sid       = "AllowSSLRequestsOnly"

          + condition {
              + test     = "Bool"
              + values   = [
                  + "false",
                ]
              + variable = "aws:SecureTransport"
            }

          + principals {
              + identifiers = [
                  + "*",
                ]
              + type        = "AWS"
            }
        }
      + statement {
          + actions   = [
              + "s3:GetObject",
            ]
          + effect    = "Allow"
          + resources = [
              + "arn:aws:s3:::api-dev-public-files-20241217170228558900000002/*",
            ]
          + sid       = "AllowCloudFrontIngress"

          + condition {
              + test     = "StringEquals"
              + values   = [
                  + "arn:aws:cloudfront::315341936575:distribution/E3OVMJEHODS81X",
                ]
              + variable = "AWS:SourceArn"
            }

          + principals {
              + identifiers = [
                  + "cloudfront.amazonaws.com",
                ]
              + type        = "Service"
            }
        }
    }

  # module.service.data.aws_iam_policy_document.scheduler will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "aws_iam_policy_document" "scheduler" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "events:DescribeRule",
              + "events:PutRule",
              + "events:PutTargets",
            ]
          + resources = [
              + "arn:aws:events:us-east-1:315341936575:rule/StepFunctionsGetEventsForStepFunctionsExecutionRule",
            ]
          + sid       = "StepFunctionsEvents"
        }
      + statement {
          + actions   = [
              + "states:StartExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-build-automatic-opportunities",
            ]
        }
      + statement {
          + actions   = [
              + "states:StartExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-create-analytics-db-csvs",
            ]
        }
      + statement {
          + actions   = [
              + "states:StartExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-create-application-submission",
            ]
        }
      + statement {
          + actions   = [
              + "states:StartExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-email_notification_opportunity",
            ]
        }
      + statement {
          + actions   = [
              + "states:StartExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-export-opportunity-data",
            ]
        }
      + statement {
          + actions   = [
              + "states:StartExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-search-agency-data",
            ]
        }
      + statement {
          + actions   = [
              + "states:StartExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-search-opportunity-data",
            ]
        }
      + statement {
          + actions   = [
              + "states:StartExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-transform",
            ]
        }
      + statement {
          + actions   = [
              + "states:StartExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-sam-extracts",
            ]
        }
      + statement {
          + actions   = [
              + "states:DescribeExecution",
              + "states:StopExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-build-automatic-opportunities:*",
            ]
        }
      + statement {
          + actions   = [
              + "states:DescribeExecution",
              + "states:StopExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-create-analytics-db-csvs:*",
            ]
        }
      + statement {
          + actions   = [
              + "states:DescribeExecution",
              + "states:StopExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-create-application-submission:*",
            ]
        }
      + statement {
          + actions   = [
              + "states:DescribeExecution",
              + "states:StopExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-email_notification_opportunity:*",
            ]
        }
      + statement {
          + actions   = [
              + "states:DescribeExecution",
              + "states:StopExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-export-opportunity-data:*",
            ]
        }
      + statement {
          + actions   = [
              + "states:DescribeExecution",
              + "states:StopExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-search-agency-data:*",
            ]
        }
      + statement {
          + actions   = [
              + "states:DescribeExecution",
              + "states:StopExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-search-opportunity-data:*",
            ]
        }
      + statement {
          + actions   = [
              + "states:DescribeExecution",
              + "states:StopExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-transform:*",
            ]
        }
      + statement {
          + actions   = [
              + "states:DescribeExecution",
              + "states:StopExecution",
            ]
          + resources = [
              + "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-sam-extracts:*",
            ]
        }
    }

  # module.service.data.aws_iam_policy_document.workflow_orchestrator will be read during apply
  # (config refers to values not yet known)
 <= data "aws_iam_policy_document" "workflow_orchestrator" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "logs:CreateLogDelivery",
              + "logs:CreateLogStream",
              + "logs:DeleteLogDelivery",
              + "logs:DescribeLogGroups",
              + "logs:DescribeResourcePolicies",
              + "logs:GetLogDelivery",
              + "logs:ListLogDeliveries",
              + "logs:PutLogEvents",
              + "logs:PutResourcePolicy",
              + "logs:UpdateLogDelivery",
            ]
          + resources = [
              + "*",
            ]
          + sid       = "UnscopeLogsPermissions"
        }
      + statement {
          + actions   = [
              + "events:DescribeRule",
              + "events:PutRule",
              + "events:PutTargets",
            ]
          + resources = [
              + "arn:aws:events:us-east-1:315341936575:rule/StepFunctionsGetEventsForECSTaskRule",
            ]
          + sid       = "StepFunctionsEvents"
        }
      + statement {
          + actions   = [
              + "ecs:RunTask",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
              + (known after apply),
            ]

          + condition {
              + test     = "ArnLike"
              + values   = [
                  + "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev",
                ]
              + variable = "ecs:cluster"
            }
        }
      + statement {
          + actions   = [
              + "ecs:DescribeTasks",
              + "ecs:StopTask",
            ]
          + effect    = "Allow"
          + resources = [
              + "arn:aws:ecs:us-east-1:315341936575:task/api-dev/*",
            ]

          + condition {
              + test     = "ArnLike"
              + values   = [
                  + "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev",
                ]
              + variable = "ecs:cluster"
            }
        }
      + statement {
          + actions   = [
              + "iam:PassRole",
            ]
          + resources = [
              + "arn:aws:iam::315341936575:role/api-dev-app",
              + "arn:aws:iam::315341936575:role/api-dev-migrator",
              + "arn:aws:iam::315341936575:role/api-dev-task-executor",
            ]
          + sid       = "PassRole"
        }
    }

  # module.service.aws_cloudfront_distribution.cdn[0] will be updated in-place
  ~ resource "aws_cloudfront_distribution" "cdn" {
        id                              = "E3OVMJEHODS81X"
        tags                            = {}
        # (22 unchanged attributes hidden)

      - origin {
          - connection_attempts      = 3 -> null
          - connection_timeout       = 10 -> null
          - domain_name              = "api-dev-public-files-20241217170228558900000002.s3.us-east-1.amazonaws.com" -> null
          - origin_access_control_id = "E2EJR515GGOGNA" -> null
          - origin_id                = "default" -> null
            # (1 unchanged attribute hidden)

          - origin_shield {
              - enabled              = true -> null
              - origin_shield_region = "us-east-1" -> null
            }
        }
      + origin {
          + connection_attempts      = 3
          + connection_timeout       = 10
          + domain_name              = "api-dev-public-files-20241217170228558900000002.s3.us-east-1.amazonaws.com"
          + origin_access_control_id = "E2EJR515GGOGNA"
          + origin_id                = "default"
            # (1 unchanged attribute hidden)
        }

        # (5 unchanged blocks hidden)
    }

  # module.service.aws_ecs_service.app will be updated in-place
  ~ resource "aws_ecs_service" "app" {
        id                                 = "arn:aws:ecs:us-east-1:315341936575:service/api-dev/api-dev"
        name                               = "api-dev"
        tags                               = {}
      ~ task_definition                    = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev:1831" -> (known after apply)
        # (16 unchanged attributes hidden)

        # (5 unchanged blocks hidden)
    }

  # module.service.aws_ecs_task_definition.app must be replaced
-/+ resource "aws_ecs_task_definition" "app" {
      ~ arn                      = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev:1831" -> (known after apply)
      ~ arn_without_revision     = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev" -> (known after apply)
      ~ container_definitions    = (sensitive value) # forces replacement
      ~ cpu                      = "1024" -> "3" # forces replacement
      ~ enable_fault_injection   = false -> (known after apply)
      ~ id                       = "api-dev" -> (known after apply)
      ~ revision                 = 1831 -> (known after apply)
      - tags                     = {} -> null
        # (11 unchanged attributes hidden)
    }

  # module.service.aws_ecs_task_definition.migrator[0] must be replaced
-/+ resource "aws_ecs_task_definition" "migrator" {
      ~ arn                      = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev-migrator:63" -> (known after apply)
      ~ arn_without_revision     = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev-migrator" -> (known after apply)
      ~ container_definitions    = (sensitive value) # forces replacement
      ~ cpu                      = "1024" -> "3" # forces replacement
      ~ enable_fault_injection   = false -> (known after apply)
      ~ id                       = "api-dev-migrator" -> (known after apply)
      ~ revision                 = 63 -> (known after apply)
      - tags                     = {} -> null
        # (11 unchanged attributes hidden)

      - volume {
          - configure_at_launch = false -> null
          - name                = "tmp" -> null
            # (1 unchanged attribute hidden)
        }
      + volume {
          + configure_at_launch = (known after apply)
          + name                = "tmp"
            # (1 unchanged attribute hidden)
        }
    }

  # module.service.aws_iam_policy.scheduler will be updated in-place
  ~ resource "aws_iam_policy" "scheduler" {
        id               = "arn:aws:iam::315341936575:policy/api-dev-scheduler"
        name             = "api-dev-scheduler"
      ~ policy           = jsonencode(
            {
              - Statement = [
                  - {
                      - Action   = [
                          - "events:PutTargets",
                          - "events:PutRule",
                          - "events:DescribeRule",
                        ]
                      - Effect   = "Allow"
                      - Resource = "arn:aws:events:us-east-1:315341936575:rule/StepFunctionsGetEventsForStepFunctionsExecutionRule"
                      - Sid      = "StepFunctionsEvents"
                    },
                  - {
                      - Action   = "states:StartExecution"
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-build-automatic-opportunities"
                    },
                  - {
                      - Action   = "states:StartExecution"
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-create-analytics-db-csvs"
                    },
                  - {
                      - Action   = "states:StartExecution"
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-create-application-submission"
                    },
                  - {
                      - Action   = "states:StartExecution"
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-email_notification_opportunity"
                    },
                  - {
                      - Action   = "states:StartExecution"
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-export-opportunity-data"
                    },
                  - {
                      - Action   = "states:StartExecution"
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-search-agency-data"
                    },
                  - {
                      - Action   = "states:StartExecution"
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-search-opportunity-data"
                    },
                  - {
                      - Action   = "states:StartExecution"
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-transform"
                    },
                  - {
                      - Action   = "states:StartExecution"
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-sam-extracts"
                    },
                  - {
                      - Action   = [
                          - "states:StopExecution",
                          - "states:DescribeExecution",
                        ]
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-build-automatic-opportunities:*"
                    },
                  - {
                      - Action   = [
                          - "states:StopExecution",
                          - "states:DescribeExecution",
                        ]
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-create-analytics-db-csvs:*"
                    },
                  - {
                      - Action   = [
                          - "states:StopExecution",
                          - "states:DescribeExecution",
                        ]
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-create-application-submission:*"
                    },
                  - {
                      - Action   = [
                          - "states:StopExecution",
                          - "states:DescribeExecution",
                        ]
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-email_notification_opportunity:*"
                    },
                  - {
                      - Action   = [
                          - "states:StopExecution",
                          - "states:DescribeExecution",
                        ]
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-export-opportunity-data:*"
                    },
                  - {
                      - Action   = [
                          - "states:StopExecution",
                          - "states:DescribeExecution",
                        ]
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-search-agency-data:*"
                    },
                  - {
                      - Action   = [
                          - "states:StopExecution",
                          - "states:DescribeExecution",
                        ]
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-search-opportunity-data:*"
                    },
                  - {
                      - Action   = [
                          - "states:StopExecution",
                          - "states:DescribeExecution",
                        ]
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-transform:*"
                    },
                  - {
                      - Action   = [
                          - "states:StopExecution",
                          - "states:DescribeExecution",
                        ]
                      - Effect   = "Allow"
                      - Resource = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-sam-extracts:*"
                    },
                ]
              - Version   = "2012-10-17"
            }
        ) -> (known after apply)
        tags             = {}
        # (7 unchanged attributes hidden)
    }

  # module.service.aws_iam_policy.workflow_orchestrator will be updated in-place
  ~ resource "aws_iam_policy" "workflow_orchestrator" {
        id               = "arn:aws:iam::315341936575:policy/api-dev-workflow-orchestrator"
        name             = "api-dev-workflow-orchestrator"
      ~ policy           = jsonencode(
            {
              - Statement = [
                  - {
                      - Action   = [
                          - "logs:UpdateLogDelivery",
                          - "logs:PutResourcePolicy",
                          - "logs:PutLogEvents",
                          - "logs:ListLogDeliveries",
                          - "logs:GetLogDelivery",
                          - "logs:DescribeResourcePolicies",
                          - "logs:DescribeLogGroups",
                          - "logs:DeleteLogDelivery",
                          - "logs:CreateLogStream",
                          - "logs:CreateLogDelivery",
                        ]
                      - Effect   = "Allow"
                      - Resource = "*"
                      - Sid      = "UnscopeLogsPermissions"
                    },
                  - {
                      - Action   = [
                          - "events:PutTargets",
                          - "events:PutRule",
                          - "events:DescribeRule",
                        ]
                      - Effect   = "Allow"
                      - Resource = "arn:aws:events:us-east-1:315341936575:rule/StepFunctionsGetEventsForECSTaskRule"
                      - Sid      = "StepFunctionsEvents"
                    },
                  - {
                      - Action    = "ecs:RunTask"
                      - Condition = {
                          - ArnLike = {
                              - "ecs:cluster" = "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev"
                            }
                        }
                      - Effect    = "Allow"
                      - Resource  = [
                          - "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev:*",
                          - "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev-migrator:*",
                        ]
                    },
                  - {
                      - Action    = [
                          - "ecs:StopTask",
                          - "ecs:DescribeTasks",
                        ]
                      - Condition = {
                          - ArnLike = {
                              - "ecs:cluster" = "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev"
                            }
                        }
                      - Effect    = "Allow"
                      - Resource  = "arn:aws:ecs:us-east-1:315341936575:task/api-dev/*"
                    },
                  - {
                      - Action   = "iam:PassRole"
                      - Effect   = "Allow"
                      - Resource = [
                          - "arn:aws:iam::315341936575:role/api-dev-task-executor",
                          - "arn:aws:iam::315341936575:role/api-dev-migrator",
                          - "arn:aws:iam::315341936575:role/api-dev-app",
                        ]
                      - Sid      = "PassRole"
                    },
                ]
              - Version   = "2012-10-17"
            }
        ) -> (known after apply)
        tags             = {}
        # (7 unchanged attributes hidden)
    }

  # module.service.aws_iam_role_policy.task_executor will be updated in-place
  ~ resource "aws_iam_role_policy" "task_executor" {
        id          = "api-dev-task-executor:api-dev-task-executor-role-policy"
        name        = "api-dev-task-executor-role-policy"
      ~ policy      = jsonencode(
          ~ {
              ~ Statement = [
                    # (5 unchanged elements hidden)
                    {
                        Action   = "ssm:GetParameters"
                        Effect   = "Allow"
                        Resource = "arn:aws:ssm:us-east-1:315341936575:parameter/new-relic-license-key"
                        Sid      = "PullSharedNewRelicKey"
                    },
                  ~ {
                      ~ Resource = [
                            # (1 unchanged element hidden)
                            "arn:aws:ssm:us-east-1:315341936575:parameter/api/dev/soap-private-keys",
                          - "arn:aws:ssm:us-east-1:315341936575:parameter/api/dev/soap-partner-gateway-uri",
                          - "arn:aws:ssm:us-east-1:315341936575:parameter/api/dev/soap-partner-gateway-auth-key",
                            "arn:aws:ssm:us-east-1:315341936575:parameter/api/dev/sam-gov-api-key",
                            # (10 unchanged elements hidden)
                        ]
                        # (3 unchanged attributes hidden)
                    },
                ]
                # (1 unchanged attribute hidden)
            }
        )
        # (2 unchanged attributes hidden)
    }

  # module.service.aws_iam_role_policy_attachment.events will be created
  + resource "aws_iam_role_policy_attachment" "events" {
      + id         = (known after apply)
      + policy_arn = "arn:aws:iam::315341936575:policy/api-dev-run-access"
      + role       = "api-dev-events"
    }

  # module.service.aws_iam_role_policy_attachment.scheduler will be created
  + resource "aws_iam_role_policy_attachment" "scheduler" {
      + id         = (known after apply)
      + policy_arn = "arn:aws:iam::315341936575:policy/api-dev-scheduler"
      + role       = "api-dev-scheduler"
    }

  # module.service.aws_iam_role_policy_attachment.workflow_orchestrator will be created
  + resource "aws_iam_role_policy_attachment" "workflow_orchestrator" {
      + id         = (known after apply)
      + policy_arn = "arn:aws:iam::315341936575:policy/api-dev-workflow-orchestrator"
      + role       = "api-dev-workflow-orchestrator"
    }

  # module.service.aws_lb_listener_rule.http_to_https_redirect[0] will be created
  + resource "aws_lb_listener_rule" "http_to_https_redirect" {
      + arn          = (known after apply)
      + id           = (known after apply)
      + listener_arn = "arn:aws:elasticloadbalancing:us-east-1:315341936575:listener/app/api-dev/48f2e65279b967a5/d4ce6505b9614ba0"
      + priority     = 50
      + tags_all     = {
          + "app"                 = "api"
          + "description"         = "Application resources created in dev environment"
          + "environment"         = "dev"
          + "owner"               = "navapbc"
          + "project"             = "simpler-grants-gov"
          + "repository"          = "https://github.com/HHS/simpler-grants-gov"
          + "service_name"        = "api-dev"
          + "terraform"           = "true"
          + "terraform_workspace" = "default"
        }

      + action {
          + order = (known after apply)
          + type  = "redirect"

          + redirect {
              + host        = "#{host}"
              + path        = "/#{path}"
              + port        = "443"
              + protocol    = "HTTPS"
              + query       = "#{query}"
              + status_code = "HTTP_301"
            }
        }

      + condition {
          + path_pattern {
              + values = [
                  + "/*",
                ]
            }
        }
    }

  # module.service.aws_s3_bucket_policy.cdn[0] will be updated in-place
  ~ resource "aws_s3_bucket_policy" "cdn" {
        id     = "api-dev-cdn-access-logs20250116191905055600000002"
      ~ policy = jsonencode(
            {
              - Statement = [
                  - {
                      - Action    = "s3:GetObject"
                      - Condition = {
                          - StringEquals = {
                              - "AWS:SourceArn" = "arn:aws:cloudfront::315341936575:distribution/E3OVMJEHODS81X"
                            }
                        }
                      - Effect    = "Allow"
                      - Principal = {
                          - Service = "cloudfront.amazonaws.com"
                        }
                      - Resource  = "arn:aws:s3:::api-dev-cdn-access-logs20250116191905055600000002/*"
                      - Sid       = "AllowCloudFrontIngress"
                    },
                ]
              - Version   = "2012-10-17"
            }
        ) -> (known after apply)
        # (1 unchanged attribute hidden)
    }

  # module.service.aws_s3_bucket_policy.s3_buckets["api-analytics-transfer"] will be updated in-place
  ~ resource "aws_s3_bucket_policy" "s3_buckets" {
        id     = "api-dev-api-analytics-transfer-20241217170228558900000001"
      ~ policy = jsonencode(
            {
              - Statement = [
                  - {
                      - Action    = "s3:*"
                      - Effect    = "Allow"
                      - Principal = {
                          - AWS = [
                              - "arn:aws:iam::315341936575:role/api-dev-migrator",
                              - "arn:aws:iam::315341936575:role/api-dev-app",
                            ]
                        }
                      - Resource  = [
                          - "arn:aws:s3:::api-dev-api-analytics-transfer-20241217170228558900000001/*",
                          - "arn:aws:s3:::api-dev-api-analytics-transfer-20241217170228558900000001",
                        ]
                    },
                  - {
                      - Action    = "s3:*"
                      - Condition = {
                          - Bool = {
                              - "aws:SecureTransport" = "false"
                            }
                        }
                      - Effect    = "Deny"
                      - Principal = {
                          - AWS = "*"
                        }
                      - Resource  = [
                          - "arn:aws:s3:::api-dev-api-analytics-transfer-20241217170228558900000001/*",
                          - "arn:aws:s3:::api-dev-api-analytics-transfer-20241217170228558900000001",
                        ]
                      - Sid       = "AllowSSLRequestsOnly"
                    },
                ]
              - Version   = "2012-10-17"
            }
        ) -> (known after apply)
        # (1 unchanged attribute hidden)
    }

  # module.service.aws_s3_bucket_policy.s3_buckets["draft-files"] will be updated in-place
  ~ resource "aws_s3_bucket_policy" "s3_buckets" {
        id     = "api-dev-draft-files-20241217170228581000000003"
      ~ policy = jsonencode(
            {
              - Statement = [
                  - {
                      - Action    = "s3:*"
                      - Effect    = "Allow"
                      - Principal = {
                          - AWS = [
                              - "arn:aws:iam::315341936575:role/api-dev-migrator",
                              - "arn:aws:iam::315341936575:role/api-dev-app",
                            ]
                        }
                      - Resource  = [
                          - "arn:aws:s3:::api-dev-draft-files-20241217170228581000000003/*",
                          - "arn:aws:s3:::api-dev-draft-files-20241217170228581000000003",
                        ]
                    },
                  - {
                      - Action    = "s3:*"
                      - Condition = {
                          - Bool = {
                              - "aws:SecureTransport" = "false"
                            }
                        }
                      - Effect    = "Deny"
                      - Principal = {
                          - AWS = "*"
                        }
                      - Resource  = [
                          - "arn:aws:s3:::api-dev-draft-files-20241217170228581000000003/*",
                          - "arn:aws:s3:::api-dev-draft-files-20241217170228581000000003",
                        ]
                      - Sid       = "AllowSSLRequestsOnly"
                    },
                ]
              - Version   = "2012-10-17"
            }
        ) -> (known after apply)
        # (1 unchanged attribute hidden)
    }

  # module.service.aws_s3_bucket_policy.s3_buckets["public-files"] will be updated in-place
  ~ resource "aws_s3_bucket_policy" "s3_buckets" {
        id     = "api-dev-public-files-20241217170228558900000002"
      ~ policy = jsonencode(
            {
              - Statement = [
                  - {
                      - Action    = "s3:*"
                      - Effect    = "Allow"
                      - Principal = {
                          - AWS = [
                              - "arn:aws:iam::315341936575:role/api-dev-migrator",
                              - "arn:aws:iam::315341936575:role/api-dev-app",
                            ]
                        }
                      - Resource  = [
                          - "arn:aws:s3:::api-dev-public-files-20241217170228558900000002/*",
                          - "arn:aws:s3:::api-dev-public-files-20241217170228558900000002",
                        ]
                    },
                  - {
                      - Action    = "s3:*"
                      - Condition = {
                          - Bool = {
                              - "aws:SecureTransport" = "false"
                            }
                        }
                      - Effect    = "Deny"
                      - Principal = {
                          - AWS = "*"
                        }
                      - Resource  = [
                          - "arn:aws:s3:::api-dev-public-files-20241217170228558900000002/*",
                          - "arn:aws:s3:::api-dev-public-files-20241217170228558900000002",
                        ]
                      - Sid       = "AllowSSLRequestsOnly"
                    },
                  - {
                      - Action    = "s3:GetObject"
                      - Condition = {
                          - StringEquals = {
                              - "AWS:SourceArn" = "arn:aws:cloudfront::315341936575:distribution/E3OVMJEHODS81X"
                            }
                        }
                      - Effect    = "Allow"
                      - Principal = {
                          - Service = "cloudfront.amazonaws.com"
                        }
                      - Resource  = "arn:aws:s3:::api-dev-public-files-20241217170228558900000002/*"
                      - Sid       = "AllowCloudFrontIngress"
                    },
                ]
              - Version   = "2012-10-17"
            }
        ) -> (known after apply)
        # (1 unchanged attribute hidden)
    }

  # module.service.aws_sfn_state_machine.scheduled_jobs["build-automatic-opportunities"] will be updated in-place
  ~ resource "aws_sfn_state_machine" "scheduled_jobs" {
      ~ definition                = jsonencode(
            {
              - StartAt = "RunTask"
              - States  = {
                  - RunTask = {
                      - End        = true
                      - Parameters = {
                          - Cluster              = "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev"
                          - LaunchType           = "FARGATE"
                          - NetworkConfiguration = {
                              - AwsvpcConfiguration = {
                                  - SecurityGroups = [
                                      - "sg-0eab49e76a34379f9",
                                    ]
                                  - Subnets        = [
                                      - "subnet-0a5ea667d3751639f",
                                      - "subnet-068ede7dcfd9469ab",
                                      - "subnet-019f469ba97dc6ec7",
                                    ]
                                }
                            }
                          - Overrides            = {
                              - ContainerOverrides = [
                                  - {
                                      - Command     = [
                                          - "poetry",
                                          - "run",
                                          - "flask",
                                          - "task",
                                          - "build-automatic-opportunities",
                                        ]
                                      - Cpu         = 768
                                      - Environment = []
                                      - Memory      = 1792
                                      - Name        = "api-dev"
                                    },
                                ]
                              - Cpu                = "1024"
                              - Memory             = "2048"
                            }
                          - TaskDefinition       = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev-migrator:63"
                        }
                      - Resource   = "arn:aws:states:::ecs:runTask.sync"
                      - Type       = "Task"
                    }
                }
            }
        ) -> (known after apply)
        id                        = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-build-automatic-opportunities"
        name                      = "api-dev-build-automatic-opportunities"
        tags                      = {
            "job"  = "build-automatic-opportunities"
            "name" = "api-dev-build-automatic-opportunities"
        }
        # (11 unchanged attributes hidden)

        # (3 unchanged blocks hidden)
    }

  # module.service.aws_sfn_state_machine.scheduled_jobs["create-analytics-db-csvs"] will be updated in-place
  ~ resource "aws_sfn_state_machine" "scheduled_jobs" {
      ~ definition                = jsonencode(
            {
              - StartAt = "RunTask"
              - States  = {
                  - RunTask = {
                      - End        = true
                      - Parameters = {
                          - Cluster              = "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev"
                          - LaunchType           = "FARGATE"
                          - NetworkConfiguration = {
                              - AwsvpcConfiguration = {
                                  - SecurityGroups = [
                                      - "sg-0eab49e76a34379f9",
                                    ]
                                  - Subnets        = [
                                      - "subnet-0a5ea667d3751639f",
                                      - "subnet-068ede7dcfd9469ab",
                                      - "subnet-019f469ba97dc6ec7",
                                    ]
                                }
                            }
                          - Overrides            = {
                              - ContainerOverrides = [
                                  - {
                                      - Command     = [
                                          - "poetry",
                                          - "run",
                                          - "flask",
                                          - "task",
                                          - "create-analytics-db-csvs",
                                        ]
                                      - Cpu         = 768
                                      - Environment = []
                                      - Memory      = 1792
                                      - Name        = "api-dev"
                                    },
                                ]
                              - Cpu                = "1024"
                              - Memory             = "2048"
                            }
                          - TaskDefinition       = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev-migrator:63"
                        }
                      - Resource   = "arn:aws:states:::ecs:runTask.sync"
                      - Type       = "Task"
                    }
                }
            }
        ) -> (known after apply)
        id                        = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-create-analytics-db-csvs"
        name                      = "api-dev-create-analytics-db-csvs"
        tags                      = {
            "job"  = "create-analytics-db-csvs"
            "name" = "api-dev-create-analytics-db-csvs"
        }
        # (11 unchanged attributes hidden)

        # (3 unchanged blocks hidden)
    }

  # module.service.aws_sfn_state_machine.scheduled_jobs["create-application-submission"] will be updated in-place
  ~ resource "aws_sfn_state_machine" "scheduled_jobs" {
      ~ definition                = jsonencode(
            {
              - StartAt = "RunTask"
              - States  = {
                  - RunTask = {
                      - End        = true
                      - Parameters = {
                          - Cluster              = "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev"
                          - LaunchType           = "FARGATE"
                          - NetworkConfiguration = {
                              - AwsvpcConfiguration = {
                                  - SecurityGroups = [
                                      - "sg-0eab49e76a34379f9",
                                    ]
                                  - Subnets        = [
                                      - "subnet-0a5ea667d3751639f",
                                      - "subnet-068ede7dcfd9469ab",
                                      - "subnet-019f469ba97dc6ec7",
                                    ]
                                }
                            }
                          - Overrides            = {
                              - ContainerOverrides = [
                                  - {
                                      - Command     = [
                                          - "poetry",
                                          - "run",
                                          - "flask",
                                          - "task",
                                          - "create-application-submission",
                                        ]
                                      - Cpu         = 768
                                      - Environment = []
                                      - Memory      = 1792
                                      - Name        = "api-dev"
                                    },
                                ]
                              - Cpu                = "1024"
                              - Memory             = "2048"
                            }
                          - TaskDefinition       = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev-migrator:63"
                        }
                      - Resource   = "arn:aws:states:::ecs:runTask.sync"
                      - Type       = "Task"
                    }
                }
            }
        ) -> (known after apply)
        id                        = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-create-application-submission"
        name                      = "api-dev-create-application-submission"
        tags                      = {
            "job"  = "create-application-submission"
            "name" = "api-dev-create-application-submission"
        }
        # (11 unchanged attributes hidden)

        # (3 unchanged blocks hidden)
    }

  # module.service.aws_sfn_state_machine.scheduled_jobs["email_notification_opportunity"] will be updated in-place
  ~ resource "aws_sfn_state_machine" "scheduled_jobs" {
      ~ definition                = jsonencode(
            {
              - StartAt = "RunTask"
              - States  = {
                  - RunTask = {
                      - End        = true
                      - Parameters = {
                          - Cluster              = "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev"
                          - LaunchType           = "FARGATE"
                          - NetworkConfiguration = {
                              - AwsvpcConfiguration = {
                                  - SecurityGroups = [
                                      - "sg-0eab49e76a34379f9",
                                    ]
                                  - Subnets        = [
                                      - "subnet-0a5ea667d3751639f",
                                      - "subnet-068ede7dcfd9469ab",
                                      - "subnet-019f469ba97dc6ec7",
                                    ]
                                }
                            }
                          - Overrides            = {
                              - ContainerOverrides = [
                                  - {
                                      - Command     = [
                                          - "poetry",
                                          - "run",
                                          - "flask",
                                          - "task",
                                          - "email-notifications",
                                        ]
                                      - Cpu         = 768
                                      - Environment = []
                                      - Memory      = 1792
                                      - Name        = "api-dev"
                                    },
                                ]
                              - Cpu                = "1024"
                              - Memory             = "2048"
                            }
                          - TaskDefinition       = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev-migrator:63"
                        }
                      - Resource   = "arn:aws:states:::ecs:runTask.sync"
                      - Type       = "Task"
                    }
                }
            }
        ) -> (known after apply)
        id                        = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-email_notification_opportunity"
        name                      = "api-dev-email_notification_opportunity"
        tags                      = {
            "job"  = "email_notification_opportunity"
            "name" = "api-dev-email_notification_opportunity"
        }
        # (11 unchanged attributes hidden)

        # (3 unchanged blocks hidden)
    }

  # module.service.aws_sfn_state_machine.scheduled_jobs["export-opportunity-data"] will be updated in-place
  ~ resource "aws_sfn_state_machine" "scheduled_jobs" {
      ~ definition                = jsonencode(
            {
              - StartAt = "RunTask"
              - States  = {
                  - RunTask = {
                      - End        = true
                      - Parameters = {
                          - Cluster              = "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev"
                          - LaunchType           = "FARGATE"
                          - NetworkConfiguration = {
                              - AwsvpcConfiguration = {
                                  - SecurityGroups = [
                                      - "sg-0eab49e76a34379f9",
                                    ]
                                  - Subnets        = [
                                      - "subnet-0a5ea667d3751639f",
                                      - "subnet-068ede7dcfd9469ab",
                                      - "subnet-019f469ba97dc6ec7",
                                    ]
                                }
                            }
                          - Overrides            = {
                              - ContainerOverrides = [
                                  - {
                                      - Command     = [
                                          - "poetry",
                                          - "run",
                                          - "flask",
                                          - "task",
                                          - "export-opportunity-data",
                                        ]
                                      - Cpu         = 768
                                      - Environment = []
                                      - Memory      = 1792
                                      - Name        = "api-dev"
                                    },
                                ]
                              - Cpu                = "1024"
                              - Memory             = "2048"
                            }
                          - TaskDefinition       = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev-migrator:63"
                        }
                      - Resource   = "arn:aws:states:::ecs:runTask.sync"
                      - Type       = "Task"
                    }
                }
            }
        ) -> (known after apply)
        id                        = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-export-opportunity-data"
        name                      = "api-dev-export-opportunity-data"
        tags                      = {
            "job"  = "export-opportunity-data"
            "name" = "api-dev-export-opportunity-data"
        }
        # (11 unchanged attributes hidden)

        # (3 unchanged blocks hidden)
    }

  # module.service.aws_sfn_state_machine.scheduled_jobs["load-search-agency-data"] will be updated in-place
  ~ resource "aws_sfn_state_machine" "scheduled_jobs" {
      ~ definition                = jsonencode(
            {
              - StartAt = "RunTask"
              - States  = {
                  - RunTask = {
                      - End        = true
                      - Parameters = {
                          - Cluster              = "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev"
                          - LaunchType           = "FARGATE"
                          - NetworkConfiguration = {
                              - AwsvpcConfiguration = {
                                  - SecurityGroups = [
                                      - "sg-0eab49e76a34379f9",
                                    ]
                                  - Subnets        = [
                                      - "subnet-0a5ea667d3751639f",
                                      - "subnet-068ede7dcfd9469ab",
                                      - "subnet-019f469ba97dc6ec7",
                                    ]
                                }
                            }
                          - Overrides            = {
                              - ContainerOverrides = [
                                  - {
                                      - Command     = [
                                          - "poetry",
                                          - "run",
                                          - "flask",
                                          - "load-search-data",
                                          - "load-agency-data",
                                        ]
                                      - Cpu         = 768
                                      - Environment = []
                                      - Memory      = 1792
                                      - Name        = "api-dev"
                                    },
                                ]
                              - Cpu                = "1024"
                              - Memory             = "2048"
                            }
                          - TaskDefinition       = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev-migrator:63"
                        }
                      - Resource   = "arn:aws:states:::ecs:runTask.sync"
                      - Type       = "Task"
                    }
                }
            }
        ) -> (known after apply)
        id                        = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-search-agency-data"
        name                      = "api-dev-load-search-agency-data"
        tags                      = {
            "job"  = "load-search-agency-data"
            "name" = "api-dev-load-search-agency-data"
        }
        # (11 unchanged attributes hidden)

        # (3 unchanged blocks hidden)
    }

  # module.service.aws_sfn_state_machine.scheduled_jobs["load-search-opportunity-data"] will be updated in-place
  ~ resource "aws_sfn_state_machine" "scheduled_jobs" {
      ~ definition                = jsonencode(
            {
              - StartAt = "RunTask"
              - States  = {
                  - RunTask = {
                      - End        = true
                      - Parameters = {
                          - Cluster              = "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev"
                          - LaunchType           = "FARGATE"
                          - NetworkConfiguration = {
                              - AwsvpcConfiguration = {
                                  - SecurityGroups = [
                                      - "sg-0eab49e76a34379f9",
                                    ]
                                  - Subnets        = [
                                      - "subnet-0a5ea667d3751639f",
                                      - "subnet-068ede7dcfd9469ab",
                                      - "subnet-019f469ba97dc6ec7",
                                    ]
                                }
                            }
                          - Overrides            = {
                              - ContainerOverrides = [
                                  - {
                                      - Command     = [
                                          - "poetry",
                                          - "run",
                                          - "flask",
                                          - "load-search-data",
                                          - "load-opportunity-data",
                                        ]
                                      - Cpu         = 768
                                      - Environment = []
                                      - Memory      = 1792
                                      - Name        = "api-dev"
                                    },
                                ]
                              - Cpu                = "1024"
                              - Memory             = "2048"
                            }
                          - TaskDefinition       = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev-migrator:63"
                        }
                      - Resource   = "arn:aws:states:::ecs:runTask.sync"
                      - Type       = "Task"
                    }
                }
            }
        ) -> (known after apply)
        id                        = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-search-opportunity-data"
        name                      = "api-dev-load-search-opportunity-data"
        tags                      = {
            "job"  = "load-search-opportunity-data"
            "name" = "api-dev-load-search-opportunity-data"
        }
        # (11 unchanged attributes hidden)

        # (3 unchanged blocks hidden)
    }

  # module.service.aws_sfn_state_machine.scheduled_jobs["load-transform"] will be updated in-place
  ~ resource "aws_sfn_state_machine" "scheduled_jobs" {
      ~ definition                = jsonencode(
            {
              - StartAt = "RunTask"
              - States  = {
                  - RunTask = {
                      - End        = true
                      - Parameters = {
                          - Cluster              = "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev"
                          - LaunchType           = "FARGATE"
                          - NetworkConfiguration = {
                              - AwsvpcConfiguration = {
                                  - SecurityGroups = [
                                      - "sg-0eab49e76a34379f9",
                                    ]
                                  - Subnets        = [
                                      - "subnet-0a5ea667d3751639f",
                                      - "subnet-068ede7dcfd9469ab",
                                      - "subnet-019f469ba97dc6ec7",
                                    ]
                                }
                            }
                          - Overrides            = {
                              - ContainerOverrides = [
                                  - {
                                      - Command     = [
                                          - "poetry",
                                          - "run",
                                          - "flask",
                                          - "data-migration",
                                          - "load-transform",
                                          - "--load",
                                          - "--transform",
                                          - "--set-current",
                                          - "--store-version",
                                        ]
                                      - Cpu         = 768
                                      - Environment = []
                                      - Memory      = 1792
                                      - Name        = "api-dev"
                                    },
                                ]
                              - Cpu                = "1024"
                              - Memory             = "2048"
                            }
                          - TaskDefinition       = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev-migrator:63"
                        }
                      - Resource   = "arn:aws:states:::ecs:runTask.sync"
                      - Type       = "Task"
                    }
                }
            }
        ) -> (known after apply)
        id                        = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-load-transform"
        name                      = "api-dev-load-transform"
        tags                      = {
            "job"  = "load-transform"
            "name" = "api-dev-load-transform"
        }
        # (11 unchanged attributes hidden)

        # (3 unchanged blocks hidden)
    }

  # module.service.aws_sfn_state_machine.scheduled_jobs["sam-extracts"] will be updated in-place
  ~ resource "aws_sfn_state_machine" "scheduled_jobs" {
      ~ definition                = jsonencode(
            {
              - StartAt = "RunTask"
              - States  = {
                  - RunTask = {
                      - End        = true
                      - Parameters = {
                          - Cluster              = "arn:aws:ecs:us-east-1:315341936575:cluster/api-dev"
                          - LaunchType           = "FARGATE"
                          - NetworkConfiguration = {
                              - AwsvpcConfiguration = {
                                  - SecurityGroups = [
                                      - "sg-0eab49e76a34379f9",
                                    ]
                                  - Subnets        = [
                                      - "subnet-0a5ea667d3751639f",
                                      - "subnet-068ede7dcfd9469ab",
                                      - "subnet-019f469ba97dc6ec7",
                                    ]
                                }
                            }
                          - Overrides            = {
                              - ContainerOverrides = [
                                  - {
                                      - Command     = [
                                          - "poetry",
                                          - "run",
                                          - "flask",
                                          - "task",
                                          - "sam-extracts",
                                          - "--no-fetch-extracts",
                                          - "--setup-lower-env",
                                        ]
                                      - Cpu         = 768
                                      - Environment = []
                                      - Memory      = 1792
                                      - Name        = "api-dev"
                                    },
                                ]
                              - Cpu                = "1024"
                              - Memory             = "2048"
                            }
                          - TaskDefinition       = "arn:aws:ecs:us-east-1:315341936575:task-definition/api-dev-migrator:63"
                        }
                      - Resource   = "arn:aws:states:::ecs:runTask.sync"
                      - Type       = "Task"
                    }
                }
            }
        ) -> (known after apply)
        id                        = "arn:aws:states:us-east-1:315341936575:stateMachine:api-dev-sam-extracts"
        name                      = "api-dev-sam-extracts"
        tags                      = {
            "job"  = "sam-extracts"
            "name" = "api-dev-sam-extracts"
        }
        # (11 unchanged attributes hidden)

        # (3 unchanged blocks hidden)
    }

  # module.storage.data.aws_iam_policy_document.storage will be read during apply
  # (config refers to values not yet known)
 <= data "aws_iam_policy_document" "storage" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "s3:*",
            ]
          + effect    = "Deny"
          + resources = [
              + (known after apply),
            ]
          + sid       = "RestrictToTLSRequestsOnly"

          + condition {
              + test     = "Bool"
              + values   = [
                  + "false",
                ]
              + variable = "aws:SecureTransport"
            }

          + principals {
              + identifiers = [
                  + "*",
                ]
              + type        = "*"
            }
        }
    }

  # module.storage.data.aws_iam_policy_document.storage_access will be read during apply
  # (config refers to values not yet known)
 <= data "aws_iam_policy_document" "storage_access" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "s3:DeleteObject",
              + "s3:DeleteObjectTagging",
              + "s3:GetObject",
              + "s3:GetObjectAttributes",
              + "s3:GetObjectTagging",
              + "s3:ListBucket",
              + "s3:PutObject",
              + "s3:PutObjectTagging",
            ]
          + effect    = "Allow"
          + resources = [
              + "arn:aws:s3:::simpler-grants-gov-api-dev",
              + "arn:aws:s3:::simpler-grants-gov-api-dev/*",
            ]
        }
      + statement {
          + actions   = [
              + "kms:Decrypt",
              + "kms:GenerateDataKey",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
    }

  # module.storage.aws_iam_policy.storage_access will be created
  + resource "aws_iam_policy" "storage_access" {
      + arn              = (known after apply)
      + attachment_count = (known after apply)
      + id               = (known after apply)
      + name             = "simpler-grants-gov-api-dev-access"
      + name_prefix      = (known after apply)
      + path             = "/"
      + policy           = (known after apply)
      + policy_id        = (known after apply)
      + tags_all         = {
          + "app"                 = "api"
          + "description"         = "Application resources created in dev environment"
          + "environment"         = "dev"
          + "owner"               = "navapbc"
          + "project"             = "simpler-grants-gov"
          + "repository"          = "https://github.com/HHS/simpler-grants-gov"
          + "service_name"        = "api-dev"
          + "terraform"           = "true"
          + "terraform_workspace" = "default"
        }
    }

  # module.storage.aws_kms_key.storage will be created
  + resource "aws_kms_key" "storage" {
      + arn                                = (known after apply)
      + bypass_policy_lockout_safety_check = false
      + customer_master_key_spec           = "SYMMETRIC_DEFAULT"
      + deletion_window_in_days            = 10
      + description                        = "KMS key for bucket simpler-grants-gov-api-dev"
      + enable_key_rotation                = true
      + id                                 = (known after apply)
      + is_enabled                         = true
      + key_id                             = (known after apply)
      + key_usage                          = "ENCRYPT_DECRYPT"
      + multi_region                       = (known after apply)
      + policy                             = (known after apply)
      + rotation_period_in_days            = (known after apply)
      + tags_all                           = {
          + "app"                 = "api"
          + "description"         = "Application resources created in dev environment"
          + "environment"         = "dev"
          + "owner"               = "navapbc"
          + "project"             = "simpler-grants-gov"
          + "repository"          = "https://github.com/HHS/simpler-grants-gov"
          + "service_name"        = "api-dev"
          + "terraform"           = "true"
          + "terraform_workspace" = "default"
        }
    }

  # module.storage.aws_s3_bucket.storage will be created
  + resource "aws_s3_bucket" "storage" {
      + acceleration_status         = (known after apply)
      + acl                         = (known after apply)
      + arn                         = (known after apply)
      + bucket                      = "simpler-grants-gov-api-dev"
      + bucket_domain_name          = (known after apply)
      + bucket_prefix               = (known after apply)
      + bucket_regional_domain_name = (known after apply)
      + force_destroy               = false
      + hosted_zone_id              = (known after apply)
      + id                          = (known after apply)
      + object_lock_enabled         = (known after apply)
      + policy                      = (known after apply)
      + region                      = (known after apply)
      + request_payer               = (known after apply)
      + tags_all                    = {
          + "app"                 = "api"
          + "description"         = "Application resources created in dev environment"
          + "environment"         = "dev"
          + "owner"               = "navapbc"
          + "project"             = "simpler-grants-gov"
          + "repository"          = "https://github.com/HHS/simpler-grants-gov"
          + "service_name"        = "api-dev"
          + "terraform"           = "true"
          + "terraform_workspace" = "default"
        }
      + website_domain              = (known after apply)
      + website_endpoint            = (known after apply)

      + cors_rule (known after apply)

      + grant (known after apply)

      + lifecycle_rule (known after apply)

      + logging (known after apply)

      + object_lock_configuration (known after apply)

      + replication_configuration (known after apply)

      + server_side_encryption_configuration (known after apply)

      + versioning (known after apply)

      + website (known after apply)
    }

  # module.storage.aws_s3_bucket_lifecycle_configuration.storage will be created
  + resource "aws_s3_bucket_lifecycle_configuration" "storage" {
      + bucket                                 = (known after apply)
      + expected_bucket_owner                  = (known after apply)
      + id                                     = (known after apply)
      + transition_default_minimum_object_size = "all_storage_classes_128K"

      + rule {
          + id     = "AbortIncompleteUpload"
          + prefix = (known after apply)
          + status = "Enabled"

          + abort_incomplete_multipart_upload {
              + days_after_initiation = 7
            }
        }
    }

  # module.storage.aws_s3_bucket_notification.storage will be created
  + resource "aws_s3_bucket_notification" "storage" {
      + bucket      = (known after apply)
      + eventbridge = true
      + id          = (known after apply)
    }

  # module.storage.aws_s3_bucket_policy.storage will be created
  + resource "aws_s3_bucket_policy" "storage" {
      + bucket = (known after apply)
      + id     = (known after apply)
      + policy = (known after apply)
    }

  # module.storage.aws_s3_bucket_public_access_block.storage will be created
  + resource "aws_s3_bucket_public_access_block" "storage" {
      + block_public_acls       = true
      + block_public_policy     = true
      + bucket                  = (known after apply)
      + id                      = (known after apply)
      + ignore_public_acls      = true
      + restrict_public_buckets = true
    }

  # module.storage.aws_s3_bucket_server_side_encryption_configuration.storage will be created
  + resource "aws_s3_bucket_server_side_encryption_configuration" "storage" {
      + bucket = (known after apply)
      + id     = (known after apply)

      + rule {
          + bucket_key_enabled = true

          + apply_server_side_encryption_by_default {
              + kms_master_key_id = (known after apply)
              + sse_algorithm     = "aws:kms"
            }
        }
    }

Plan: 21 to add, 18 to change, 2 to destroy.

Changes to Outputs:
  + migrator_username             = "migrator"
  + pinpoint_app_id               = "26dadc33716449bc8c153ca6ba5a06ed"

Warning: Invalid Attribute Combination

  with module.service.aws_s3_bucket_lifecycle_configuration.access_logs,
  on ../../modules/service/access_logs.tf line 82, in resource "aws_s3_bucket_lifecycle_configuration" "access_logs":
  82:   rule {

No attribute specified when one (and only one) of [rule[0].prefix.<.filter]
is required

This will be an error in a future version of the provider

(and 6 more similar warnings elsewhere)



Note: You didn't use the -out option to save this plan, so Terraform can't
guarantee to take exactly these actions if you run "terraform apply" now.
